(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{737:function(s,e,n){"use strict";n.r(e);var a=n(17),r=Object(a.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"jumpserver-是什么-安装jumpserver"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jumpserver-是什么-安装jumpserver"}},[s._v("#")]),s._v(" JumpServer 是什么，安装JumpServer")]),s._v(" "),n("h2",{attrs:{id:"jumpserver-是什么"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jumpserver-是什么"}},[s._v("#")]),s._v(" JumpServer 是什么")]),s._v(" "),n("p",[s._v("JumpServer 是广受欢迎的开源堡垒机，是符合 4A 规范的专业运维安全审计系统。JumpServer 帮助企业以更安全的方式管控和登录所有类型的资产，实现事前授权、事中监察、事后审计，满足等保合规要求。")]),s._v(" "),n("p",[s._v("https://docs.jumpserver.org/zh/v3/#1-jumpserver")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://imgoss.xgss.net/picgo/index_02.png?aliyun",alt:"index_02"}})]),s._v(" "),n("h2",{attrs:{id:"jumpserver-堡垒机支持的资产类型包括"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jumpserver-堡垒机支持的资产类型包括"}},[s._v("#")]),s._v(" JumpServer 堡垒机支持的资产类型包括")]),s._v(" "),n("ul",[n("li",[s._v("SSH (Linux / Unix / 网络设备 等)")]),s._v(" "),n("li",[s._v("Windows (Web 方式连接 / 原生 RDP 连接)")]),s._v(" "),n("li",[s._v("数据库 (MySQL / MariaDB / Oracle / SQLServer / PostgreSQL / ClickHouse 等)")]),s._v(" "),n("li",[s._v("NoSQL (Redis / MongoDB 等)")]),s._v(" "),n("li",[s._v("GPT (ChatGPT 等)")]),s._v(" "),n("li",[s._v("云服务 (Kubernetes / VMware vSphere 等)")]),s._v(" "),n("li",[s._v("Web 站点 (各类系统的 Web 管理后台)")]),s._v(" "),n("li",[s._v("应用 (通过 Remote App 连接各类应用)")])]),s._v(" "),n("p",[s._v("我选择单机部署安装，系统centos7，IP: 192.168.1.2")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# cd /opt\n# curl -sSL https://resource.fit2cloud.com/jumpserver/jumpserver/releases/latest/download/quick_start.sh | bash\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("参考： https://docs.jumpserver.org/zh/v3/installation/setup_linux_standalone/online_install/")]),s._v(" "),n("p",[s._v("运行完成之后，下载了如下docker镜像")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# docker images\nREPOSITORY           TAG       IMAGE ID       CREATED        SIZE\njumpserver/web       v3.6.2    968c5acbb280   4 days ago     1.53GB\njumpserver/chen      v3.6.2    35f659cc7c52   4 days ago     568MB\njumpserver/core      v3.6.2    8ca03c14c829   4 days ago     1.57GB\njumpserver/magnus    v3.6.2    ddc825b66411   4 days ago     159MB\njumpserver/lion      v3.6.2    53dcfd817496   4 days ago     237MB\njumpserver/koko      v3.6.2    58fe7a4c7e94   4 days ago     1.01GB\njumpserver/kael      v3.6.2    b3a59ea024c6   4 days ago     278MB\njumpserver/mariadb   10.6      aac2cf878de9   9 months ago   405MB\njumpserver/redis     6.2       48da0c367062   9 months ago   113MB\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("运行了10个docker实例")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('CONTAINER ID   IMAGE                      COMMAND                  CREATED          STATUS                            PORTS                                                                                                                  NAMES\naad48a2d03bf   jumpserver/magnus:v3.6.2   "./entrypoint.sh"        17 minutes ago   Up 15 minutes (healthy)           0.0.0.0:33061-33062->33061-33062/tcp, :::33061-33062->33061-33062/tcp, 0.0.0.0:63790->63790/tcp, :::63790->63790/tcp   jms_magnus\n1f758dd2c837   jumpserver/core:v3.6.2     "./entrypoint.sh sta…"   17 minutes ago   Up 16 minutes (healthy)           8080/tcp                                                                                                               jms_celery\nfe7c9296905e   jumpserver/lion:v3.6.2     "./entrypoint.sh"        17 minutes ago   Up 16 minutes (healthy)           4822/tcp, 8081/tcp                                                                                                     jms_lion\na50c14135836   jumpserver/chen:v3.6.2     "./entrypoint.sh"        17 minutes ago   Up 16 minutes (healthy)           8082/tcp                                                                                                               jms_chen\ncdcbb89e5238   jumpserver/kael:v3.6.2     "./entrypoint.sh"        17 minutes ago   Up 16 minutes (healthy)           8083/tcp                                                                                                               jms_kael\ndb9d436dd96c   jumpserver/koko:v3.6.2     "./entrypoint.sh"        17 minutes ago   Up 16 minutes (healthy)           0.0.0.0:2222->2222/tcp, :::2222->2222/tcp, 5000/tcp                                                                    jms_koko\nfe47d20a2d99   jumpserver/web:v3.6.2      "/docker-entrypoint.…"   17 minutes ago   Up 3 seconds (health: starting)   0.0.0.0:80->80/tcp, :::80->80/tcp                                                                                      jms_web\n73b2defbf1ac   jumpserver/core:v3.6.2     "./entrypoint.sh sta…"   17 minutes ago   Up 17 minutes (healthy)           8080/tcp                                                                                                               jms_core\n4a71a6ef66ae   jumpserver/redis:6.2       "docker-entrypoint.s…"   44 minutes ago   Up 44 minutes (healthy)           6379/tcp                                                                                                               jms_redis\ne1fff68fae3c   jumpserver/mariadb:10.6    "docker-entrypoint.s…"   44 minutes ago   Up 44 minutes (healthy)           3306/tcp                                                                                                               jms_mysql# docker ps\nCONTAINER ID   IMAGE                     COMMAND                  CREATED         STATUS                   PORTS      NAMES\n4ca2d352ed4c   jumpserver/core:v3.6.2    "./entrypoint.sh sle…"   2 minutes ago   Up About a minute        8080/tcp   jms_core\n4a71a6ef66ae   jumpserver/redis:6.2      "docker-entrypoint.s…"   2 minutes ago   Up 2 minutes (healthy)   6379/tcp   jms_redis\ne1fff68fae3c   jumpserver/mariadb:10.6   "docker-entrypoint.s…"   2 minutes ago   Up 2 minutes (healthy)   3306/tcp   jms_mysql\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("首次安装后需要修改配置文件，定义 DOMAINS 字段后即可正常使用\n如果服务器是一键安装并且旧版本就已经使用 JumpServer 开启了 HTTPS，则不需要进行任何更改。\n需要使用 IP 地址来访问 JumpServer 的场景，可以根据自己的 IP 类型来填写 config.txt 配置文件中 DOMAINS 字段为公网 IP 还是内网 IP。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\n\n  # 打开config.txt 配置文件，定义 DOMAINS 字段\n  vim /opt/jumpserver/config/config.txt\n\n  # 可信任 DOMAINS 定义,\n  # 定义可信任的访问 IP, 请根据实际情况修改, 如果是公网 IP 请改成对应的公网 IP,\n  # DOMAINS="demo.jumpserver.org"    # 使用域名访问\n  # DOMAINS="172.17.200.191"         # 使用 IP 访问\n  # DOMAINS="demo.jumpserver.org,172.17.200.191"    # 使用 IP 和 域名一起访问\n  DOMAINS=\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h2",{attrs:{id:"登录后台"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#登录后台"}},[s._v("#")]),s._v(" 登录后台")]),s._v(" "),n("p",[s._v("安装成功后，通过浏览器访问登录 JumpServer")]),s._v(" "),n("p",[s._v("地址: http://<JumpServer服务器IP地址>:<服务运行端口>")]),s._v(" "),n("p",[s._v("http://192.168.1.2/core/auth/login/")]),s._v(" "),n("p",[s._v("用户名: admin")]),s._v(" "),n("p",[s._v("密码: admin")]),s._v(" "),n("p",[s._v("根据提示修改密码")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230828172624241.png?aliyun",alt:"image-20230828172624241"}})]),s._v(" "),n("h2",{attrs:{id:"修改配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件"}},[s._v("#")]),s._v(" 修改配置文件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("vim /opt/jumpserver/config/config.txt\n\nHTTP_PORT=80 改成 81  # 因为本机的nginx冲突了\nDOMAINS=jms.xgss.net\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"jumpserver常用命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jumpserver常用命令"}},[s._v("#")]),s._v(" jumpserver常用命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd /opt/jumpserver-installer-v3.6.2\n\n# 启动\n./jmsctl.sh start\n\n# 停止\n./jmsctl.sh down\n\n# 卸载\n./jmsctl.sh uninstall\n\n# 帮助\n./jmsctl.sh -h\n\n# 开机启动\necho '/opt/jumpserver-installer-v3.6.2/jmsctl.sh start' >> /etc/rc.local \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h2",{attrs:{id:"反向代理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#反向代理"}},[s._v("#")]),s._v(" 反向代理")]),s._v(" "),n("p",[s._v("域名： jms.xgss.net")]),s._v(" "),n("h3",{attrs:{id:"http配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http配置"}},[s._v("#")]),s._v(" HTTP配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('server {\n\n    listen 80;\n    server_name jms.xgss.net;  # 自行修改成你的域名\n    access_log /data/wwwroot/log/jms.xgss.net-access.log main_aliyun;\n\terror_log /dev/null;\n\t\n    client_max_body_size 4096m;  # 上传文件大小限制\n\n    location / {\n            # 这里的 ip 是后端 JumpServer nginx 的 ip\n            proxy_pass http://127.0.0.1:81;\n            proxy_http_version 1.1;\n            proxy_buffering off;\n            proxy_request_buffering off;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection "upgrade";\n            proxy_set_header Host $host;\n            proxy_set_header X-Forwarded-For $remote_addr;\n    }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("h3",{attrs:{id:"https配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#https配置"}},[s._v("#")]),s._v(" HTTPS配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('server {\n    listen 80;\n    server_name demo.jumpserver.org;  # 自行修改成你的域名\n    return 301 https://$server_name$request_uri;\n}\nserver {\n    listen 443 ssl http2;\n    server_name          demo.jumpserver.org;  # 自行修改成你的域名\n    ssl_certificate      sslkey/1_jumpserver.org_bundle.crt;  # 自行设置证书\n    ssl_certificate_key  sslkey/2_jumpserver.org_bundle.key;  # 自行设置证书\n    ssl_session_timeout 1d;\n    ssl_session_cache shared:MozSSL:10m;\n    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n    ssl_protocols TLSv1.1 TLSv1.2;\n    add_header Strict-Transport-Security "max-age=63072000" always;\n\n    client_max_body_size 4096m;  # 录像及文件上传大小限制\n    location / {\n        # 这里的 ip 是后端 JumpServer nginx 的 ip\n        proxy_pass http://192.168.244.144;\n        proxy_http_version 1.1;\n        proxy_buffering off;\n        proxy_request_buffering off;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection "upgrade";\n        proxy_set_header Host $host;\n        proxy_set_header X-Forwarded-For $remote_addr;\n    }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])]),n("h3",{attrs:{id:"使用域名登录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用域名登录"}},[s._v("#")]),s._v(" 使用域名登录")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230829095901953.png?aliyun",alt:"image-20230829095901953"}})])])}),[],!1,null,null,null);e.default=r.exports}}]);