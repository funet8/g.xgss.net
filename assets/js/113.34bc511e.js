(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{697:function(s,n,a){"use strict";a.r(n);var e=a(17),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"centos7搭建开源高颜值的it资产管理平台chemex"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos7搭建开源高颜值的it资产管理平台chemex"}},[s._v("#")]),s._v(" Centos7搭建开源高颜值的IT资产管理平台chemex")]),s._v(" "),a("p",[s._v("咖啡壶是开源、高颜值的IT资产管理平台。资产管理、归属、追溯、盘点以及轻量的服务器状态面板。支持导出导入、LDAP、自定义字段等。基于优雅的Laravel框架和DcatAdmin开发。")]),s._v(" "),a("p",[s._v("开源地址：https://gitee.com/celaraze/chemex")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220607180626167.png?aliyun",alt:"image-20220607180626167"}})]),s._v(" "),a("h2",{attrs:{id:"环境要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境要求"}},[s._v("#")]),s._v(" 环境要求")]),s._v(" "),a("p",[s._v("git，用于管理版本，部署和升级必要工具。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("PHP 8+ ，仅支持 PHP8。\nMySQL 5.7+，数据库引擎，理论上 MariaDB 10.2 + 兼容支持。\next-zip 扩展。\next-json 扩展。\next-fileinfo 扩展。\next-ldap 扩展。\next-bcmath 扩展。\next-mysqli 扩展。\next-xml 扩展。\next-xmlrpc 扩展。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("以上扩展安装过程注意版本必须与 PHP 版本一致。")]),s._v(" "),a("h2",{attrs:{id:"系统简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统简介"}},[s._v("#")]),s._v(" 系统简介")]),s._v(" "),a("p",[s._v("centos7")]),s._v(" "),a("p",[s._v("已安装PHP8和mysql数据库，nignx转发")]),s._v(" "),a("p",[s._v("域名：http://zc.nideyuming.com")]),s._v(" "),a("h2",{attrs:{id:"部署-经典-nginx-php-fpm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署-经典-nginx-php-fpm"}},[s._v("#")]),s._v(" 部署（经典 Nginx & PHP-fpm）")]),s._v(" "),a("p",[s._v("生产环境下为遵守安全策略，非常建议在服务器本地进行部署，暂时不提供相关线上初始化安装的功能。因此，虽然前期部署的步骤较多，但已经为大家自动化处理了很大部分的流程，只需要跟着下面的命令一步步执行，一般是不会有部署问题的。")]),s._v(" "),a("p",[s._v("1.为你的计算机安装 PHP8 环境，参考：PHP官方 （安装省略）。")]),s._v(" "),a("p",[s._v("2.为你的计算机安装 MySQL 或者 mariadb（安装省略）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("http://zc.nideyuming.com\n数据库信息：\n数据库：zc_chuanqu_cn\n地址：172.16.32.11:3306\n用户：zc_chuanqu_cn\n密码：****\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("3：在你想要的目录中，执行 git clone https://gitee.com/celaraze/chemex.git 完成下载。")]),s._v(" "),a("p",[s._v("4：在项目根目录中，复制 .env.example 文件为一份新的，并重命名为 .env。")]),s._v(" "),a("p",[s._v("5：根据 .env 文件中注释的指引进行配置。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# cd /data/wwwroot/web/\n# git clone https://gitee.com/celaraze/chemex.git \n# mv chemex zc.nideyuming.com\n# chown www.www -R zc.nideyuming.com/\n# cd zc.nideyuming.com/\n# mv .env.example .env\n修改 .env 配置文件\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"安装导入数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装导入数据"}},[s._v("#")]),s._v(" 安装导入数据")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# su -l www\n$ cd /data/wwwroot/web/zc.nideyuming.com/\n$ php artisan chemex:install\n正在优化配置！\nCompiled views cleared!\nApplication cache cleared!\nRoute cache cleared!\nConfiguration cache cleared!\nCompiled services and packages files removed!\nCaches cleared successfully!\n正在设置存储系统！\nThe [/home/data/wwwroot/web/zc.nideyuming.com/public/storage] link has been connected to [/home/data/wwwroot/web/zc.nideyuming.com/storage/app/public].\nThe links have been created.\n正在配置APP密钥！\nApplication key set successfully.\n正在配置JWT密钥！\n\n This will invalidate all existing tokens. Are you sure you want to override the secret key? (yes/no) [no]:\n > yes\n\njwt-auth secret [opRJk8IlSJeJiOOVEKf5KEhk2Xz0rmYl8W4uZVVr06futCH77NlDPgCNt9ytymy2] set successfully.\n正在处理数据库迁移！\nMigration table created successfully.\n...\nMigrated:  2021_05_19_085513_version_3_0_10 (9.27ms)\n正在初始化基础数据！\nDatabase seeding completed successfully.\nAdmin账户已成功重置为 admin/admin\n安装完成！\n用户名密码都为：admin\n\n$ chmod 777 -R storage\n$ ll storage/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("h3",{attrs:{id:"配置nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx"}},[s._v("#")]),s._v(" 配置nginx")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("server {  \n        listen       80;\n        server_name  zc.nideyuming.com;\n        root /data/wwwroot/web/zc.nideyuming.com/public;\n        access_log /data/wwwroot/log/zc.nideyuming.com-access.log main_aliyun;\n        error_log off;\n\n        location / {\n                index  index.php index.htm index.html;\n                try_files $uri $uri/ /index.php?$args;\n        }\n        location ~ .*\\.(php|php5)?$     {\n                        fastcgi_pass http://127.0.0.1:8100;\n                        fastcgi_index index.php;\n                        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                        include fastcgi_params;\n                }\n        location ~ .*\\.(htm|html|css|js|jpg|jpeg|gif|png|ico|bmp|gz|xml|zip|rar|swf|txt|xls|xlsx|flv|mid|doc|ppt|pdf|mp3|wma|exe)?$ {  \n                expires 30d;  \n                access_log /dev/null;\n        }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("p",[s._v("此时可以通过访问 http://zc.nideyuming.com 来使用咖啡壶。管理员账号密码为：admin / admin。")]),s._v(" "),a("p",[s._v("访问")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20210708154621618.png?aliyun",alt:"image-20210708154621618"}})]),s._v(" "),a("h1",{attrs:{id:"版本更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#版本更新"}},[s._v("#")]),s._v(" 版本更新")]),s._v(" "),a("p",[s._v("随时随地保持更新可以在项目根目录中执行以下命令，将会同步分支的最新修改内容。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo git fetch --all && git reset --hard origin/main && git pull \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("接着，执行以下来进行升级。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("php artisan chemex:update \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("注意，如果提示 permission denied 错误，需要通过 sudo 身份执行。")])])}),[],!1,null,null,null);n.default=t.exports}}]);