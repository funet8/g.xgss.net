(window.webpackJsonp=window.webpackJsonp||[]).push([[246],{826:function(t,s,a){"use strict";a.r(s);var n=a(17),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"gitbook使用gitalk插件制作留言板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitbook使用gitalk插件制作留言板"}},[t._v("#")]),t._v(" gitbook使用gitalk插件制作留言板")]),t._v(" "),a("h2",{attrs:{id:"gitalk评论插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitalk评论插件"}},[t._v("#")]),t._v(" gitalk评论插件")]),t._v(" "),a("p",[a("code",[t._v("disqus")]),t._v(" 评论插件虽然比较好用,但是注册是在 "),a("code",[t._v("disqus.com")]),t._v(" 官网,需要特殊手段才能访问,即便成功配置了国内一般也是访问不到的,因此功能相当鸡肋.")]),t._v(" "),a("p",[a("code",[t._v("gitalk")]),t._v(" 评论插件解决了这一痛点,利用 "),a("code",[t._v("github")]),t._v(" 的开发者接口授权,将讨论区的 "),a("code",[t._v("issue")]),t._v(" 变成评论区,和 "),a("code",[t._v("github")]),t._v(" 结合的如此紧密,适合用源码托管到 "),a("code",[t._v("github")]),t._v(" 这类情况.")]),t._v(" "),a("p",[t._v("看一下gitalk "),a("a",{attrs:{href:"https://gitalk.github.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitalk.github.io/"),a("OutboundLink")],1),t._v(" 是如何介绍自己的呢")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220517101004780.png?aliyun",alt:"image-20220517101004780"}})]),t._v(" "),a("p",[t._v("看着效果确实不错,并且评论区的内容直接作为 "),a("code",[t._v("github")]),t._v(" 仓库的 "),a("code",[t._v("issue")]),t._v(",这么好的想法我咋没想到呢!")]),t._v(" "),a("p",[t._v("好了,现在让我们开始集成到我们自己的项目中,遇到新鲜事物,当然先要参考官网介绍了.")]),t._v(" "),a("h2",{attrs:{id:"申请-github-application-授权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#申请-github-application-授权"}},[t._v("#")]),t._v(" 申请 GitHub Application 授权")]),t._v(" "),a("p",[t._v("登录 "),a("code",[t._v("github")]),t._v(" 账号,点击 "),a("a",{attrs:{href:"https://github.com/settings/applications/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("在线申请"),a("OutboundLink")],1),t._v(" 授权应用.")]),t._v(" "),a("p",[t._v("看到这一步,想必读者已经有个大概印象了,"),a("code",[t._v("gitalk")]),t._v(" 插件是利用 "),a("code",[t._v("github")]),t._v(" 的开发者服务,进行授权进而调用 "),a("code",[t._v("issue")]),t._v(" 相关接口从而显示评论功能.")]),t._v(" "),a("p",[t._v("这种由官网提供的开发者服务还是比较好的,至少感觉比手动模拟提交要靠谱些,更何况走的是 "),a("code",[t._v("OAuth")]),t._v(" 授权模式.")]),t._v(" "),a("p",[t._v("比如第三方应用提供微信登录,走的也是 "),a("code",[t._v("OAuth")]),t._v(" 协议,这里的第三方应用当然就是现在说的 "),a("code",[t._v("Gitalk")]),t._v("\n插件,微信就是我们的 "),a("code",[t._v("github")]),t._v(" .")]),t._v(" "),a("p",[t._v("新建应用,首页 url 和授权回调 url 填写相同的首页链接即可,其他情况自定义填写.")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220429152149366.png?aliyun",alt:"image-20220429152149366"}})]),t._v(" "),a("p",[t._v("应用登记成功后会生成 "),a("code",[t._v("token")]),t._v(" 令牌,"),a("code",[t._v("clientId")]),t._v(" 和 "),a("code",[t._v("clientSecret")]),t._v(" 需要重点保存下来,待会需要用到.")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220429152312092.png?aliyun",alt:"image-20220429152312092"}})]),t._v(" "),a("h3",{attrs:{id:"安装并集成到网站"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装并集成到网站"}},[t._v("#")]),t._v(" 安装并集成到网站")]),t._v(" "),a("p",[t._v("在需要添加评论的页面,添加下述内容引入 "),a("code",[t._v("gitalk")]),t._v(" 插件,其中参数来自我们上一步获取的 "),a("code",[t._v("clientId")]),t._v(" 和 "),a("code",[t._v("clientSecret")]),t._v(" .")]),t._v(" "),a("blockquote",[a("p",[t._v("默认应该添加到 "),a("code",[t._v(".html")]),t._v(" 页面,当然也可以添加到 "),a("code",[t._v(".md")]),t._v(" 页面,毕竟 "),a("code",[t._v("markdown")]),t._v(" 语法也支持 "),a("code",[t._v("html")]),t._v(" 标签.")])]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("gitalk-container"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\nvar gitalk = new Gitalk(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"clientID"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientId"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"clientSecret"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientSecret"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"repo"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GitHub repo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"owner"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GitHub repo owner"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"admin"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GitHub repo admin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      \n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"distractionFreeMode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(');\ngitalk.render("gitalk-container");\n')])])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("p",[t._v("稍微解释下参数的含义:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v('"clientID"')]),t._v(" : [必选] "),a("code",[t._v("GitHub Application Client ID")])]),t._v(" "),a("li",[a("code",[t._v('"clientSecret"')]),t._v(" : [必选] "),a("code",[t._v("GitHub Application Client Secret")])]),t._v(" "),a("li",[a("code",[t._v('"repo"')]),t._v(" : [必选] "),a("code",[t._v("GitHub repository")])]),t._v(" "),a("li",[a("code",[t._v('"owner"')]),t._v(" : [必选] "),a("code",[t._v("GitHub repository")]),t._v(" 所有者，可以是个人或者组织")]),t._v(" "),a("li",[a("code",[t._v('"admin"')]),t._v(" : [必选] "),a("code",[t._v("GitHub repository")]),t._v(" 的所有者和合作者 (对这个 "),a("code",[t._v("repository")]),t._v("有写权限的用户)")]),t._v(" "),a("li",[a("code",[t._v('"id"')]),t._v(" : [可选] 页面的唯一标识,默认值: "),a("code",[t._v("location.href")]),t._v(", 长度"),a("strong",[t._v("必须小于50")]),t._v(",否则会报错!")]),t._v(" "),a("li",[a("code",[t._v('"distractionFreeMode"')]),t._v(": [可选] 类似 "),a("code",[t._v("Facebook")]),t._v(" 评论框的全屏遮罩效果,默认值: "),a("code",[t._v("false")])])]),t._v(" "),a("blockquote",[a("p",[t._v("上述配置只是最简配置,如果想要了解更多高级配置,请参考 "),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fgitalk%2Fgitalk%23install",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"测试集成效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试集成效果"}},[t._v("#")]),t._v(" 测试集成效果")]),t._v(" "),a("p",[t._v("按照上述安装步骤,将代码复制到首页("),a("code",[t._v("README.md")]),t._v(")文件中,然后推送到 "),a("code",[t._v("github")]),t._v(" ,体验下集成效果.")]),t._v(" "),a("blockquote",[a("p",[t._v("注意: 这里必须推送到服务器,因为申请应用时填写的域名是线上地址,因而本地测试是不会成功的,会报错,这一点和微信支付的回调地址类似.")])]),t._v(" "),a("p",[t._v("示例:")]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("gitalk-container"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\nvar gitalk = new Gitalk(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"clientID"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3f62415a283d19cbd696"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"clientSecret"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aed0e1db0620bf5d0e3a3f0225f801997ad74e58"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"repo"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"snowdreams1006.github.io"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"owner"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"snowdreams1006"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"admin"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"snowdreams1006"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      \n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"distractionFreeMode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(');\ngitalk.render("gitalk-container");\n')])])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("blockquote",[a("p",[t._v("上述参数仅供参考,实际使用中请替换成自己的配置,不然你也没有我仓库的权限,肯定会报错的啊!")])]),t._v(" "),a("p",[t._v("心心相念的 "),a("code",[t._v("gitalk")]),t._v(" 评论区呢?是不是哪里配置错了,为啥没有出来?")]),t._v(" "),a("p",[t._v('别急,要淡定,看一下提示说"未找到的 '),a("code",[t._v("Issue")]),t._v(' 进行评论,请联系 @snowdreams1006 初始化创建",既然如此,那我们就操作一下吧!')]),t._v(" "),a("p",[t._v("点击下方的按钮 "),a("code",[t._v("使用 Github登录")]),t._v(" ,会跳转到相应的仓库,然后按照提示确定.")]),t._v(" "),a("p",[t._v("再次返回首页,刷新一下看看发生什么神奇的事情了?")]),t._v(" "),a("p",[a("img",{attrs:{src:"https:////upload-images.jianshu.io/upload_images/16648241-c6840e17705960dd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp",alt:"img"}})]),t._v(" "),a("p",[t._v("终于集成了评论功能,而且还支持 "),a("code",[t._v("markdown")]),t._v(" 格式的评论呢!")]),t._v(" "),a("h3",{attrs:{id:"进一步思考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进一步思考"}},[t._v("#")]),t._v(" 进一步思考")]),t._v(" "),a("p",[t._v("确实不错,心中自然是欣喜万分,但别高兴太早了,因为你会发现其他页面并没有评论区,也很好理解,我们目前仅仅在首页("),a("code",[t._v("README.md")]),t._v(") 集成了 "),a("code",[t._v("gitalk")]),t._v(" 插件,也就是说使用 "),a("code",[t._v("gitbook build")]),t._v(" 输出的 "),a("code",[t._v("index.html")]),t._v(" 首页才支持评论区,其他页面没有插入上述代码,自然是没有评论区功能的啊!")]),t._v(" "),a("p",[t._v("那如果想要实现全网站的所有页面都集成评论区功能,应该怎么办呢?")]),t._v(" "),a("p",[t._v("百度搜索了一下,并没有找到优雅的解决方案,如果有人能够提供更好的解决方案,还望不吝赐教,在此谢过.")]),t._v(" "),a("p",[t._v("既然网上找不到优雅的解决方案,那寻求专业人士的帮助也是一种好办法,我去哪找 "),a("code",[t._v("gitalk")]),t._v(" 的使用者呢?")]),t._v(" "),a("p",[t._v("聪明的你或许已经想到了,解铃还须系铃人,当然是向推荐给我插件的大牛提问了!")]),t._v(" "),a("p",[t._v("他确实提供了一种思路,以下是网友"),a("a",{attrs:{href:"https://my.oschina.net/u/254762",target:"_blank",rel:"noopener noreferrer"}},[t._v("@八一菜刀"),a("OutboundLink")],1),t._v("原话:")]),t._v(" "),a("blockquote",[a("p",[t._v("文档里面我用的是tbfed-pagefooter插件，不过我是在本地使用gitbook install后重写了该插件的js，无非就是在js里面加一段Gitalk的调用代码，这样使用gitbook build命令的时候，所有的页面都会有Gitalk的评论调用")])]),t._v(" "),a("p",[t._v("人家既然已经提供了思路,不太好意思继续麻烦人家要源码,既然如此,那就自己动手吧!")]),t._v(" "),a("p",[a("code",[t._v("tbfed-pagefooter")]),t._v(" 插件很熟悉,一般是用于注明版权以及文章的修订时间的,而且作用于每个页面,这一点就满足了集成 "),a("code",[t._v("gitalk")]),t._v(" 相关代码的基本要求.")]),t._v(" "),a("p",[t._v("大体方向确定后,目前就是解决如何在 "),a("code",[t._v("tbfed-pagefooter")]),t._v(" 插件构建的相关生命周期内顺便执行我们的代码?")]),t._v(" "),a("p",[t._v("正常当前项目安装 "),a("code",[t._v("tbfed-pagefooter")]),t._v(" 插件后应该存放于 "),a("code",[t._v("/node_modules/gitbook-plugin-tbfed-pagefooter")]),t._v(" 目录,大致看一下插件的项目结构.")]),t._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[t._v("gitbook"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tbfed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pagefooter\n├── LICENSE\n├── README"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n├── assets\n│   └── footer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("css\n├── index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n└── "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" directory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" files\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("为了基本看懂项目文件作用,特意去看了下 "),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Ftoolchain.gitbook.com%2Fplugins%2F",target:"_blank",rel:"noopener noreferrer"}},[t._v("gitbook 插件开发文档"),a("OutboundLink")],1),t._v(",目标锁定在 "),a("code",[t._v("index.js")]),t._v(" .")]),t._v(" "),a("p",[t._v("截取重要片段,原来是电子书构建前动态增加了 "),a("code",[t._v("html")]),t._v(" 片段啊,这就好办了!")]),t._v(" "),a("div",{staticClass:"language-kotlin line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-kotlin"}},[a("code",[t._v("hooks"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    'page"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("before'"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" _label "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" '最后更新时间"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" '"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          _format "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 'YYYY"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("MM"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("DD'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          _copy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 'powered "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" snowdreams1006'\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pluginsConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("'tbfed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pagefooter'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        _label "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pluginsConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("'tbfed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pagefooter'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("'modify_label'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" _label"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        _format "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pluginsConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("'tbfed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pagefooter'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("'modify_format'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" _format"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" _c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pluginsConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("'tbfed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pagefooter'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("'copyright'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        _copy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" _c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ' all right reserved，' "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" _copy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" _copy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" _copy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" '"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"copyright"')])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("'"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("_copy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("'"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("'\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ' \\n\\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("footer "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"page-footer"')])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("' "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" _copy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n        '"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"footer-modification"')])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("' "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n        _label "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n        '\\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mtime | "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\"' "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" _format "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n        '\""),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("footer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("'\n\n      str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" '\\n\\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("link rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylesheet"')])]),t._v(" href"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://unpkg.com/gitalk/dist/gitalk.css"')])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("'"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      '\\n\\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://unpkg.com/gitalk@latest/dist/gitalk.min.js"')])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("'"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      '\\n\\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gitalk-container"')])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("'"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n      '\\n\\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://g.xgss.net/gitalk-config.js"')])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n      page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br")])]),a("p",[t._v("看懂基本原理后顺便修改了版权说明以及修订时间格式,然后追加了集成 "),a("code",[t._v("gitalk")]),t._v(" 的相关代码.")]),t._v(" "),a("blockquote",[a("p",[t._v("这里为了方便修改 "),a("code",[t._v("gitalk")]),t._v(" 配置,特意将相关配置项单独托管到 "),a("code",[t._v("github")]),t._v(" 专门的 "),a("code",[t._v("gitalk-config.js")]),t._v(" 文件.")])]),t._v(" "),a("p",[t._v("至于配置文件的内容,并没什么特殊之处,还是顺便贴一下吧!")]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gitalk-container"')])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gitalk "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Gitalk")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientID"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"05fb7151030cefa1a084"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientSecret"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"d5013b1052b33b3b69101563018692f8338b38fb"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"repo"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"g.xgss.net"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"owner"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"funet8"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v('"funet8'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      \n  "),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"distractionFreeMode"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ngitalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-literal"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gitalk-container"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("至此,之后再本地构建电子书时("),a("code",[t._v("gitbook build")]),t._v("),"),a("code",[t._v("gitbook-plugin-tbfed-pagefooter")]),t._v(" 自然会顺便帮我们运行集成 "),a("code",[t._v("gitalk")]),t._v(" 的相关代码,这才是相对来说比较优雅的做法.")]),t._v(" "),a("blockquote",[a("p",[t._v("当然也不一定非要借助 "),a("code",[t._v("gitbook-plugin-tbfed-pagefooter")]),t._v(" 插件帮忙,也可以借助别的插件进行集成,甚至自己写个更好的插件.")])])])}),[],!1,null,null,null);s.default=r.exports}}]);