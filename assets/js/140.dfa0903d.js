(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{728:function(s,a,e){"use strict";e.r(a);var n=e(17),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"快速搭建专属的私人网盘系统-ifilespace"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#快速搭建专属的私人网盘系统-ifilespace"}},[s._v("#")]),s._v(" 快速搭建专属的私人网盘系统-iFileSpace")]),s._v(" "),e("h2",{attrs:{id:"ifilespace介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ifilespace介绍"}},[s._v("#")]),s._v(" iFileSpace介绍")]),s._v(" "),e("p",[s._v("iFileSpace 是一个在线个人文件管理工具，在线网盘程序，可快速一键搭建私人云盘，支持本地存储和对象存储（阿里云oss,腾讯云cos,华为云obs,又拍云,七牛云,OneDrive及其他支持S3协议对象存储）, 如部署在公网服务器，可替代百度网盘等在线网盘，自主搭建，数据完全自主管理！也可部署在家庭软路由、nas等个人存储设备中，作为局域网文件管理工具使用。支持多用户、多存储空间、资料库、webdav、离线下载及精细的后台权限管理。")]),s._v(" "),e("p",[s._v("iFileSpace 是一款 Go 语言开发的免费在线个人文件管理工具 (免费网盘架设程序)，你可以用它在 VPS 服务器或局域网电脑上快速一键搭建私人云盘。软件支持将用户的文件数据保存在本地存储，或者保存到后端对象存储服务去 (如阿里云 OSS、华为云 OBS、OneDrive 等）")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/iFileSpace.jpg?aliyun",alt:"iFileSpace"}})]),s._v(" "),e("h2",{attrs:{id:"安装流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装流程"}},[s._v("#")]),s._v(" 安装流程")]),s._v(" "),e("p",[s._v("官方网站： https://ifile.space/")]),s._v(" "),e("p",[s._v("安装文档： https://ifile.space/docs/home")]),s._v(" "),e("p",[s._v("本地安装系统说明")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("系统：centos7\nIP： 192.168.1.5\n端口：3030\n用户名密码： admin 密码随机\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h2",{attrs:{id:"服务端安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务端安装"}},[s._v("#")]),s._v(" 服务端安装")]),s._v(" "),e("p",[s._v("进入官网选择需要下载的服务端。")]),s._v(" "),e("p",[s._v("下载并且解压")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("$ mkdir -p /data/wwwroot/web/iFileSpace\n$ cd /data/wwwroot/web/iFileSpace\n可以去官方现在linux版本：  https://ifile.space/download\n$ wget http://js.funet8.com/centos_software/ifile_linux_amd64_1.8.9.zip\n\n$ unzip ifile_linux_amd64_1.8.9.zip \n$ ls -l\ntotal 43272\n-rwxr-xr-x 1 www www 35857236 Sep 28 16:44 ifile\n-rw-rw-r-- 1 www www 15574285 Sep 30 11:29 ifile_linux_amd64_1.8.9.zip\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("运行")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("运行：\n./ifile &\n初始管理员账号: admin\n初始管理员密码: EbVIEgRa\n\n    ____ ____ _  __         _____                         \n   /  _// __/(_)/ /___     / ___/ ____   ____ _ _____ ___ \n   / / / /_ / // // _ \\    \\__ \\ / __ \\ / __ \\// ___// _ \\\n _/ / / __// // //  __/_  ___/ // /_/ // /_/ // /__ /  __/\n/___//_/  /_//_/ \\___/(_)/____// .___/ \\__,_/ \\___/ \\___/ \n                              /_/                         \n==========================================================\nVersion:1.8.9\n文件扫描计划任务启动成功，默认每小时0分启动，后台修改周期后需手动重启应用\n系统启动成功,监听端口: 3030\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("p",[s._v("访问： http://192.168.1.5:3030/ 进入后台")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20210914111050324.png?aliyun",alt:"image-20210914111050324"}})]),s._v(" "),e("h1",{attrs:{id:"docker-使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-使用"}},[s._v("#")]),s._v(" Docker 使用")]),s._v(" "),e("p",[s._v("提供了docker镜像方式启动")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run -itd --name ifile \\\n--restart always \\\n-p 3030:3030 \\\n-v /data4T/docker_file/ifile/conf:/ifile/conf \\\n-v /data4T/docker_file/ifile/files:/ifile/files  \\\n-v /data4T/docker_file/ifile/data:/ifile/data \\\n-v /data4T/docker_file/ifile/assets:/ifile/assets \\\n-v /data4T/docker_file/ifile/tmp:/ifile/tmp \\\n-v /data4T/docker_file/ifile/thumb:/ifile/thumb \\\n-v /data4T/docker_file/ifile/logs:/ifile/logs \\\n-d lgs821/ifile\n\n#替换 ‘~/ifile’ 为您的路径\n# -v ~/ifile/conf:/root/conf 映射配置文件目录\n# -v ~/ifile/files:/root/files 映射宿主机文件夹为默认存储空间\n# -v ~/ifile/data:/root/data 映射数据库文件夹\n# -v ~/ifile/assets:/root/assets 映射自定义相关文件夹\n# -v ~/ifile/tmp:/root/tmp 分片上传临时文件夹\n# -v ~/ifile/thumb:/root/thumb 图片缩略图缓存目录\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("p",[s._v("启动后查看系统初始账号密码")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker logs ifile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("重设管理员账号密码")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker exec -it ifile /bin/sh\n./ifile -resetpass\nexit\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("IP+端口访问：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220531194115911.png?aliyun",alt:"image-20220531194115911"}})]),s._v(" "),e("h2",{attrs:{id:"设置页面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置页面"}},[s._v("#")]),s._v(" 设置页面")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220531194740497.png?aliyun",alt:"image-20220531194740497"}})]),s._v(" "),e("h2",{attrs:{id:"守护进程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#守护进程"}},[s._v("#")]),s._v(" 守护进程")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vi /usr/lib/systemd/system/ifile.service\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("或者新建ifile.service 文件复制下方内容粘贴，上传到服务器 /usr/lib/systemd/system/ 目录。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[Unit]\nDescription=ifile\nDocumentation=https://ifile.space/docs\nAfter=network.target\nWants=network.target\n\n[Service]\nWorkingDirectory=/ifile文件所在目录\nExecStart=/ifile文件所在目录/ifile\nRestart=on-failure\nRestartSec=10s\nKillMode=mixed\n\n[Install]\nWantedBy=multi-user.target\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("p",[s._v("命令")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 更新systemd配置\nsystemctl daemon-reload\n# 设置开机启动\nsystemctl enable ifile\n\n# 启动服务\nsystemctl start ifile\n# 停止服务\nsystemctl stop ifile\n# 重启服务\nsystemctl restart ifile\n# 查看状态\nsystemctl status ifile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("h2",{attrs:{id:"nginx-反向代理示例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx-反向代理示例"}},[s._v("#")]),s._v(" Nginx 反向代理示例")]),s._v(" "),e("blockquote",[e("p",[s._v("Nginx 反向代理需添加：proxy_set_header X-Forwarded-Proto $scheme;")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("server {\n    listen       80;\n    server_name  demo.ifile.space;\n    client_max_body_size    1000m;\n\n    location / {\n      proxy_set_header Host $host;\n      proxy_set_header X-Real-IP       $remote_addr;\n      proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;\n      proxy_set_header X-Forwarded-Proto $scheme; \n      proxy_pass http://127.0.0.1:3030;\n  }\n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);