(window.webpackJsonp=window.webpackJsonp||[]).push([[219],{807:function(s,a,e){"use strict";e.r(a);var t=e(17),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"centos7初始化脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos7初始化脚本"}},[s._v("#")]),s._v(" Centos7初始化脚本")]),s._v(" "),e("h2",{attrs:{id:"初始化脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#初始化脚本"}},[s._v("#")]),s._v(" 初始化脚本")]),s._v(" "),e("p",[s._v("进入centos7系统，使用脚本")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('# wget https://gitee.com/funet8/centos6_LANP_dockerfile/raw/master/shell/CentOS7.x_system_init_shell_mini.sh\n\n修改hostname和端口\nHOSTNAME="node2"\nSSH_PROT="60920"\n\n执行脚本：\n# sh CentOS7.x_system_init_shell_mini.sh\n\n功能介绍：\n# 1、先ping百度域名，看能否解析域名、修改主机名和ssh端口\n# 主要功能:\n#\t1.修改主机名\n#   2.安装wget、tar、lrzsz等常用工具\n#   3.将默认源换为阿里云\n#   4.安装常用类库\n#   5.rc.local添加执行权限\n#   6.安装 net-tools\n#   7.增加第三方资源库\n#   8.关闭SELINUX\n#   9.设置UTF-8\n#   10.系统时间设置和定时任务\n#   11.修改主机SSH端口\n#   12.删除MySQL、shell历史记录\n#   13.隐藏服务器系统信息\n#   14.优化Linux内核参数\n#   15. CentOS系统优化【/etc/profile】\n#   16.关闭系统自带firewalld防火墙，安装iptables\n#   17.安装yum-fastestmirror\n#   18.重建缓存、系统升级\n#   19.重启系统\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/centos7-chushihua.jpg?aliyun",alt:"centos7-chushihua"}})]),s._v(" "),e("h2",{attrs:{id:"最简单的系统初始化命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#最简单的系统初始化命令"}},[s._v("#")]),s._v(" 最简单的系统初始化命令")]),s._v(" "),e("p",[s._v("如果不运行上面的脚本。")]),s._v(" "),e("h3",{attrs:{id:"_1-安装上传下载软件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装上传下载软件"}},[s._v("#")]),s._v(" 1.安装上传下载软件")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum install -y lrzsz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_2-修改主机名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改主机名"}},[s._v("#")]),s._v(" 2.修改主机名")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("hostnamectl set-hostname web-name\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_3-允许ssh端口60920-iptables"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-允许ssh端口60920-iptables"}},[s._v("#")]),s._v(" 3.允许ssh端口60920-iptables")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("iptables -A INPUT -p tcp --dport 60920 -j ACCEPT\nservice iptables save\nsystemctl restart iptables.service\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"_4-允许ssh端口60920-firewall"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-允许ssh端口60920-firewall"}},[s._v("#")]),s._v(" 4.允许ssh端口60920-firewall")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("firewall-cmd --zone=public --add-port=60920/tcp --permanent\nfirewall-cmd --reload\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"_5-修改ssh端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-修改ssh端口"}},[s._v("#")]),s._v(" 5.修改SSH端口")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('sed -i "s/#Port 22/ListenAddress 0.0.0.0:60920/" /etc/ssh/sshd_config\nsystemctl restart sshd\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"_6-允许ip转发功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-允许ip转发功能"}},[s._v("#")]),s._v(" 6.允许ip转发功能")]),s._v(" "),e("p",[s._v("视具体服务器功能而定。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("echo 'net.ipv4.ip_forward=1' >> /etc/sysctl.conf\nsysctl -p\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"挂载硬盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#挂载硬盘"}},[s._v("#")]),s._v(" 挂载硬盘")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# fdisk -l\n# fdisk /dev/vdb\n...\nCommand (m for help): n\nSelect (default p): p\nCommand (m for help): wq\n格式化：\n# mkfs.ext4 /dev/vdb1\n\necho '/dev/vdb1 /home ext4 defaults 0 0' >> /etc/fstab\n# mount -a\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h2",{attrs:{id:"新建常用目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#新建常用目录"}},[s._v("#")]),s._v(" 新建常用目录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("wget https://gitee.com/funet8/centos6_LANP_dockerfile/raw/master/shell/create_dir.sh\nsh create_dir.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("新建目录作用介绍")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# /data/wwwroot/web  作用：存放WEB应用程序\n# /data/wwwroot/log  作用：存放WEB日志\n# /data/wwwroot/mysql_log 作用：存放MYSQL日志\n# /home/data/wwwroot/log/other/ 作用：存放VSFTP日志\n# /data/conf 作用：存放应用程序配置文件\n# /data/conf/sites-available 作用：存放nginx站点配置文件\n# /data/conf/shell 作用：存放shell脚本\n# /home/data/backup 作用：存放备份文件\n# /home/data/software 作用：存放安装软件目录\n# /home/data/wwwroot/nginx_old_log/ 作用：存放Nginx切割日志\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);