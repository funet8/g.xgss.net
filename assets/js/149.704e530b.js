(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{732:function(s,a,n){"use strict";n.r(a);var t=n(17),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"sql上线提示库名过长-建议使用别名解析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sql上线提示库名过长-建议使用别名解析"}},[s._v("#")]),s._v(" SQL上线提示库名过长，建议使用别名解析")]),s._v(" "),n("p",[s._v("SQL上线，报错阿里云RDS，备份库名 'rm-wz99XXXXXXXXX.mysql.rds.aliyuncs.com-3306-XXXXXX' 过长，建议使用别名解析。")]),s._v(" "),n("p",[s._v("报错如图")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20201110151221843.png?aliyun",alt:"image-20201110151221843"}})]),s._v(" "),n("p",[s._v("https://github.com/hhyo/Archery/issues/309")]),s._v(" "),n("p",[s._v("改变思路将"),n("strong",[s._v("RDS的域名连接改为IP连接")]),s._v("。ping域名得到地址。")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20201110151508499.png?aliyun",alt:"image-20201110151508499"}})]),s._v(" "),n("p",[s._v("提交工单询问阿里云客服")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('问题描述 ： RDS如何使用IP地址连接？\n获取IP地址，由于业务的需要不能使用域名连接rds，需要使用ip地址。\nping RDS的外网地址\n\n# ping rm-aaaaaaa.mysql.rds.aliyuncs.com\n\n64 bytes from 47.112.69.163 (1.2.3.4): icmp_seq=1 ttl=92 time=7.86 ms\n实际操作： mysql -uuser -h 1.2.3.4 -P3306 -p"密码" 可以连接。\n\n问题\n1.RDS如何使用IP地址连接？\n2.使用RDS的外网地址ping获取IP地址：1.2.3.4， 这个地址是固定的还是会变动？如果变化的规则是如何的？\n3.如果有只读实例如何使用IP连接？\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("阿里云客服回答")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("您好，您这边如果使用地址连接的话，就是您反馈的1.2.3.4\n不过这个IP是不固定的，具体变化是根据您实例状态，如果实例有变配升级或者迁移可用区，包括ha切换这个ip都会变动。\n只读实例也有连接地址，您同样的方法ping一下就可以看到ip\n如果您实例不变配或者升级之类的操作，包括不出现故障切换备节点的情况目前不会变化\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("考虑如果阿里云rds域名数据库改为IP连接，要考虑如果发生变化后台则要修改相关的配置。")]),s._v(" "),n("h1",{attrs:{id:"解决办法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解决办法"}},[s._v("#")]),s._v(" 解决办法")]),s._v(" "),n("p",[s._v("通过域名的cname来将阿里云的域名改短")]),s._v(" "),n("p",[s._v("比如")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("自有域名\nrds1.xgss.net CNAME解析到 rm-aaaaaaa.mysql.rds.aliyuncs.com\n在\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);