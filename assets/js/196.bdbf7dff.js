(window.webpackJsonp=window.webpackJsonp||[]).push([[196],{777:function(a,t,s){"use strict";s.r(t);var e=s(17),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"阿里巴巴高效的离线数据同步工具datax"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#阿里巴巴高效的离线数据同步工具datax"}},[a._v("#")]),a._v(" 阿里巴巴高效的离线数据同步工具DataX")]),a._v(" "),s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[a._v("#")]),a._v(" 前言")]),a._v(" "),s("p",[a._v("我们公司有个项目的数据量高达五千万，但是因为报表那块数据不太准确，业务库和报表库又是跨库操作，所以并不能使用 SQL 来进行同步。当时的打算是通过 mysqldump 或者存储的方式来进行同步，但是尝试后发现这些方案都不切实际：")]),a._v(" "),s("h2",{attrs:{id:"mysqldump方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysqldump方案"}},[a._v("#")]),a._v(" mysqldump方案")]),a._v(" "),s("p",[a._v("不仅备份需要时间，同步也需要时间，而且在备份的过程，可能还会有数据产出（也就是说同步等于没同步）存储方式：这个效率太慢了，要是数据量少还好，我们使用这个方式的时候，三个小时才同步两千条数据…")]),a._v(" "),s("h1",{attrs:{id:"实际生成环境需求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实际生成环境需求"}},[a._v("#")]),a._v(" 实际生成环境需求")]),a._v(" "),s("p",[a._v("1.将某里云的MySQL5.7数据库A(RDS数据库)全量同步到某讯云MySQL5.7数据库A")]),a._v(" "),s("p",[a._v("2.后台实时增量备份")]),a._v(" "),s("p",[a._v("某里云现有产品：DTS（收费产品）")]),a._v(" "),s("h2",{attrs:{id:"开源地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开源地址"}},[a._v("#")]),a._v(" 开源地址")]),a._v(" "),s("p",[a._v("https://github.com/alibaba/DataX")]),a._v(" "),s("h2",{attrs:{id:"datax是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#datax是什么"}},[a._v("#")]),a._v(" DataX是什么")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://imgoss.xgss.net/picgo/6847c8e9200c05dd1da3a65c346869afbc138329.jpg?aliyun",alt:"img"}})]),a._v(" "),s("p",[a._v("DataX是阿里云"),s("a",{attrs:{href:"https://www.aliyun.com/product/bigdata/ide",target:"_blank",rel:"noopener noreferrer"}},[a._v("DataWorks"),s("OutboundLink")],1),a._v("数据集成的开源版本。")]),a._v(" "),s("p",[a._v("DataX 是阿里云 DataWorks 数据集成 的开源版本，主要就是用于实现数据间的离线同步。 DataX 致力于实现包括关系型数据库（MySQL、Oracle 等）、HDFS、Hive、ODPS、HBase、FTP 等 各种异构数据源（即不同的数据库） 间稳定高效的数据同步功能。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://imgoss.xgss.net/picgo/NzKXqim9IBGsOPv_1656059857.png?aliyun",alt:"img"}})]),a._v(" "),s("p",[a._v("为了 解决异构数据源同步问题，DataX 将复杂的网状同步链路变成了星型数据链路 ，DataX 作为中间传输载体负责连接各种数据源；\n当需要接入一个新的数据源时，只需要将此数据源对接到 DataX，便能跟已有的数据源作为无缝数据同步。")]),a._v(" "),s("h2",{attrs:{id:"设计理念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设计理念"}},[a._v("#")]),a._v(" 设计理念")]),a._v(" "),s("p",[a._v("为了解决异构数据源同步问题，DataX将复杂的网状的同步链路变成了星型数据链路，DataX作为中间传输载体负责连接各种数据源。当需要接入一个新的数据源的时候，只需要将此数据源对接到DataX，便能跟已有的数据源做到无缝数据同步。")]),a._v(" "),s("h2",{attrs:{id:"当前使用现状"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#当前使用现状"}},[a._v("#")]),a._v(" 当前使用现状")]),a._v(" "),s("p",[a._v("DataX在阿里巴巴集团内被广泛使用，承担了所有大数据的离线同步业务，并已持续稳定运行了6年之久。目前每天完成同步8w多道作业，每日传输数据量超过300TB。")]),a._v(" "),s("p",[a._v("此前已经开源DataX1.0版本，此次介绍为阿里巴巴开源全新版本DataX3.0，有了更多更强大的功能和更好的使用体验。")]),a._v(" "),s("h2",{attrs:{id:"datax基本组件介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#datax基本组件介绍"}},[a._v("#")]),a._v(" datax基本组件介绍")]),a._v(" "),s("p",[a._v("DataX本身作为离线数据同步框架，采用Framework + plugin架构构建。将数据源读取和写入抽象成为Reader/Writer插件，纳入到整个同步框架中。")]),a._v(" "),s("p",[a._v("Reader：Reader为数据采集模块，负责采集数据源的数据，将数据发送给Framework。")]),a._v(" "),s("p",[a._v("Writer： Writer为数据写入模块，负责不断向Framework取数据，并将数据写入到目的端。")]),a._v(" "),s("p",[a._v("Framework：Framework用于连接reader和writer，作为两者的数据传输通道，并处理缓冲，流控，并发，数据转换等核心技术问题。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://imgoss.xgss.net/picgo/v2-054a98f384951cd6316a0dea54c586c1_720w.webp?aliyun",alt:"img"}})]),a._v(" "),s("h2",{attrs:{id:"datax主流数据库支持情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#datax主流数据库支持情况"}},[a._v("#")]),a._v(" datax主流数据库支持情况")]),a._v(" "),s("p",[a._v("DataX目前已经有了比较全面的插件体系，主流的RDBMS数据库、NOSQL、大数据计算系统都已经接入，目前支持数据如下图,")]),a._v(" "),s("p",[a._v("详情请点击："),s("a",{attrs:{href:"https://github.com/alibaba/DataX/wiki/DataX-all-data-channels",target:"_blank",rel:"noopener noreferrer"}},[a._v("DataX数据源参考指南"),s("OutboundLink")],1)]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("类型")]),a._v(" "),s("th",[a._v("数据源")]),a._v(" "),s("th",[a._v("Reader(读)")]),a._v(" "),s("th",[a._v("Writer(写)")]),a._v(" "),s("th",[a._v("文档")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("RDBMS 关系型数据库")]),a._v(" "),s("td",[a._v("MySQL")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/mysqlreader/doc/mysqlreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/mysqlwriter/doc/mysqlwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("Oracle")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/oraclereader/doc/oraclereader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/oraclewriter/doc/oraclewriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("OceanBase")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://open.oceanbase.com/docs/community/oceanbase-database/V3.1.0/use-datax-to-full-migration-data-to-oceanbase",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://open.oceanbase.com/docs/community/oceanbase-database/V3.1.0/use-datax-to-full-migration-data-to-oceanbase",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("SQLServer")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/sqlserverreader/doc/sqlserverreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/sqlserverwriter/doc/sqlserverwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("PostgreSQL")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/postgresqlreader/doc/postgresqlreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/postgresqlwriter/doc/postgresqlwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("DRDS")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/drdsreader/doc/drdsreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/drdswriter/doc/drdswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("Kingbase")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/drdsreader/doc/drdsreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/drdswriter/doc/drdswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("通用RDBMS(支持所有关系型数据库)")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/rdbmsreader/doc/rdbmsreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/rdbmswriter/doc/rdbmswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td",[a._v("阿里云数仓数据存储")]),a._v(" "),s("td",[a._v("ODPS")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/odpsreader/doc/odpsreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/odpswriter/doc/odpswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("ADB")]),a._v(" "),s("td"),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/adbmysqlwriter/doc/adbmysqlwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("ADS")]),a._v(" "),s("td"),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/adswriter/doc/adswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("OSS")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/ossreader/doc/ossreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/osswriter/doc/osswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("OCS")]),a._v(" "),s("td"),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/ocswriter/doc/ocswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("Hologres")]),a._v(" "),s("td"),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hologresjdbcwriter/doc/hologresjdbcwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("AnalyticDB For PostgreSQL")]),a._v(" "),s("td"),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("写")])]),a._v(" "),s("tr",[s("td",[a._v("阿里云中间件")]),a._v(" "),s("td",[a._v("datahub")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("读 、写")])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("SLS")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("读 、写")])]),a._v(" "),s("tr",[s("td",[a._v("阿里云图数据库")]),a._v(" "),s("td",[a._v("GDB")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/gdbreader/doc/gdbreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/gdbwriter/doc/gdbwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td",[a._v("NoSQL数据存储")]),a._v(" "),s("td",[a._v("OTS")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/otsreader/doc/otsreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/otswriter/doc/otswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("Hbase0.94")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hbase094xreader/doc/hbase094xreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hbase094xwriter/doc/hbase094xwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("Hbase1.1")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hbase11xreader/doc/hbase11xreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hbase11xwriter/doc/hbase11xwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("Phoenix4.x")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hbase11xsqlreader/doc/hbase11xsqlreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hbase11xsqlwriter/doc/hbase11xsqlwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("Phoenix5.x")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hbase20xsqlreader/doc/hbase20xsqlreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hbase20xsqlwriter/doc/hbase20xsqlwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("MongoDB")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/mongodbreader/doc/mongodbreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/mongodbwriter/doc/mongodbwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("Cassandra")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/cassandrareader/doc/cassandrareader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/cassandrawriter/doc/cassandrawriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td",[a._v("数仓数据存储")]),a._v(" "),s("td",[a._v("StarRocks")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("读 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/starrockswriter/doc/starrockswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("ApacheDoris")]),a._v(" "),s("td"),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/doriswriter/doc/doriswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("ClickHouse")]),a._v(" "),s("td"),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("写")])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("Databend")]),a._v(" "),s("td"),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/databendwriter/doc/databendwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("Hive")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hdfsreader/doc/hdfsreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hdfswriter/doc/hdfswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("kudu")]),a._v(" "),s("td"),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hdfswriter/doc/hdfswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td",[a._v("无结构化数据存储")]),a._v(" "),s("td",[a._v("TxtFile")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/txtfilereader/doc/txtfilereader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/txtfilewriter/doc/txtfilewriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("FTP")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/ftpreader/doc/ftpreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/ftpwriter/doc/ftpwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("HDFS")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hdfsreader/doc/hdfsreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/hdfswriter/doc/hdfswriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("Elasticsearch")]),a._v(" "),s("td"),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/elasticsearchwriter/doc/elasticsearchwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td",[a._v("时间序列数据库")]),a._v(" "),s("td",[a._v("OpenTSDB")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td"),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/opentsdbreader/doc/opentsdbreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("TSDB")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/tsdbreader/doc/tsdbreader.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/tsdbwriter/doc/tsdbhttpwriter.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])]),a._v(" "),s("tr",[s("td"),a._v(" "),s("td",[a._v("TDengine")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[a._v("√")]),a._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/tdenginereader/doc/tdenginereader-CN.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("读"),s("OutboundLink")],1),a._v(" 、"),s("a",{attrs:{href:"https://github.com/alibaba/DataX/blob/master/tdenginewriter/doc/tdenginewriter-CN.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("写"),s("OutboundLink")],1)])])])]),a._v(" "),s("h2",{attrs:{id:"系统要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统要求"}},[a._v("#")]),a._v(" 系统要求")]),a._v(" "),s("p",[a._v("测试系统： Centos7")]),a._v(" "),s("p",[a._v("内网IP： 192.168.1.3 【node03，安装Datax】")]),a._v(" "),s("p",[a._v("内网IP： 192.168.1.4 【node04，安装MySQL5.7】")]),a._v(" "),s("p",[a._v("需求： 通过Datax工具将阿里云的RDS(mysql5.7)的数据库同步到本地node04服务器中。")]),a._v(" "),s("p",[a._v("jdk1.8+")]),a._v(" "),s("p",[a._v("python运行环境（推荐python2.6.x）")]),a._v(" "),s("h1",{attrs:{id:"datax-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#datax-安装"}},[a._v("#")]),a._v(" Datax 安装")]),a._v(" "),s("h2",{attrs:{id:"_1-下载安装并解压"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载安装并解压"}},[a._v("#")]),a._v(" 1.下载安装并解压")]),a._v(" "),s("p",[a._v("node03服务器执行以下命令进行解压")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# wget http://datax-opensource.oss-cn-hangzhou.aliyuncs.com/datax.tar.gz\n\n备用下载： http://js.funet8.com/centos_software/datax.tar.gz\n\n# mkdir /data/\n# tar -zxf datax.tar.gz -C /data/\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("文件信息：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("文件名称：datax.tar.gz\n文件大小：853734462 字节\nMD5     ：8E93697ADDBD26BEBC157613089A1173\nSHA1    ：B0735462809F664D721D992DF5FD4813C0DB360C\nCRC32   ：FA2708CC\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h2",{attrs:{id:"_2-验证datax是否安装成功"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-验证datax是否安装成功"}},[a._v("#")]),a._v(" 2.验证datax是否安装成功")]),a._v(" "),s("p",[a._v("进入datax的安装目录的bin路径下，然后执行以下命令验证datax是否安装成功")]),a._v(" "),s("p",[a._v("node03执行以下命令进入datax的bin目录")]),a._v(" "),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# cd /data/datax/bin\n# python datax.py -r streamreader -w streamwriter\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("出现以下结果，证明安装成功")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('[root@node3 bin]# python datax.py -r streamreader -w streamwriter\n\nDataX (DATAX-OPENSOURCE-3.0), From Alibaba !\nCopyright (C) 2010-2017, Alibaba Group. All Rights Reserved.\n\n\nPlease refer to the streamreader document:\n     https://github.com/alibaba/DataX/blob/master/streamreader/doc/streamreader.md \n\nPlease refer to the streamwriter document:\n     https://github.com/alibaba/DataX/blob/master/streamwriter/doc/streamwriter.md \n \nPlease save the following configuration as a json file and  use\n     python {DATAX_HOME}/bin/datax.py {JSON_FILE_NAME}.json \nto run the job.\n\n{\n    "job": {\n        "content": [\n            {\n                "reader": {\n                    "name": "streamreader", \n                    "parameter": {\n                        "column": [], \n                        "sliceRecordCount": ""\n                    }\n                }, \n                "writer": {\n                    "name": "streamwriter", \n                    "parameter": {\n                        "encoding": "", \n                        "print": true\n                    }\n                }\n            }\n        ], \n        "setting": {\n            "speed": {\n                "channel": ""\n            }\n        }\n    }\n}\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br"),s("span",{staticClass:"line-number"},[a._v("26")]),s("br"),s("span",{staticClass:"line-number"},[a._v("27")]),s("br"),s("span",{staticClass:"line-number"},[a._v("28")]),s("br"),s("span",{staticClass:"line-number"},[a._v("29")]),s("br"),s("span",{staticClass:"line-number"},[a._v("30")]),s("br"),s("span",{staticClass:"line-number"},[a._v("31")]),s("br"),s("span",{staticClass:"line-number"},[a._v("32")]),s("br"),s("span",{staticClass:"line-number"},[a._v("33")]),s("br"),s("span",{staticClass:"line-number"},[a._v("34")]),s("br"),s("span",{staticClass:"line-number"},[a._v("35")]),s("br"),s("span",{staticClass:"line-number"},[a._v("36")]),s("br"),s("span",{staticClass:"line-number"},[a._v("37")]),s("br"),s("span",{staticClass:"line-number"},[a._v("38")]),s("br"),s("span",{staticClass:"line-number"},[a._v("39")]),s("br"),s("span",{staticClass:"line-number"},[a._v("40")]),s("br"),s("span",{staticClass:"line-number"},[a._v("41")]),s("br"),s("span",{staticClass:"line-number"},[a._v("42")]),s("br"),s("span",{staticClass:"line-number"},[a._v("43")]),s("br")])]),s("p",[s("strong",[a._v("需要删除文件")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# rm -rf /data/datax/plugin/*/._*\t\t\t\t\t\t# 需要删除隐藏文件 (重要)\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("当未删除时，可能会输出：[datax/plugin/reader/._drdsreader/plugin.json] 不存在. 请检查您的配置文件.")]),a._v(" "),s("h1",{attrs:{id:"datax实战"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#datax实战"}},[a._v("#")]),a._v(" Datax实战")]),a._v(" "),s("h2",{attrs:{id:"一、使用datax实现stream2stream数据读取"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、使用datax实现stream2stream数据读取"}},[a._v("#")]),a._v(" 一、使用datax实现stream2stream数据读取")]),a._v(" "),s("p",[a._v("使用datax实现读取字符串，然后打印到控制台当中来")]),a._v(" "),s("h3",{attrs:{id:"_1-第一步-查看帮助文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-第一步-查看帮助文档"}},[a._v("#")]),a._v(" 1）第一步：查看帮助文档")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# cd /data/datax\n# python bin/datax.py -w streamwriter -r streamreader\n\nDataX (DATAX-OPENSOURCE-3.0), From Alibaba !\nCopyright (C) 2010-2017, Alibaba Group. All Rights Reserved.\n\n\nPlease refer to the streamreader document:\n     https://github.com/alibaba/DataX/blob/master/streamreader/doc/streamreader.md \n\nPlease refer to the streamwriter document:\n     https://github.com/alibaba/DataX/blob/master/streamwriter/doc/streamwriter.md \n \nPlease save the following configuration as a json file and  use\n     python {DATAX_HOME}/bin/datax.py {JSON_FILE_NAME}.json \nto run the job.\n\n{\n    "job": {\n        "content": [\n            {\n                "reader": {\n                    "name": "streamreader", \n                    "parameter": {\n                        "column": [], \n                        "sliceRecordCount": ""\n                    }\n                }, \n                "writer": {\n                    "name": "streamwriter", \n                    "parameter": {\n                        "encoding": "", \n                        "print": true\n                    }\n                }\n            }\n        ], \n        "setting": {\n            "speed": {\n                "channel": ""\n            }\n        }\n    }\n}\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br"),s("span",{staticClass:"line-number"},[a._v("26")]),s("br"),s("span",{staticClass:"line-number"},[a._v("27")]),s("br"),s("span",{staticClass:"line-number"},[a._v("28")]),s("br"),s("span",{staticClass:"line-number"},[a._v("29")]),s("br"),s("span",{staticClass:"line-number"},[a._v("30")]),s("br"),s("span",{staticClass:"line-number"},[a._v("31")]),s("br"),s("span",{staticClass:"line-number"},[a._v("32")]),s("br"),s("span",{staticClass:"line-number"},[a._v("33")]),s("br"),s("span",{staticClass:"line-number"},[a._v("34")]),s("br"),s("span",{staticClass:"line-number"},[a._v("35")]),s("br"),s("span",{staticClass:"line-number"},[a._v("36")]),s("br"),s("span",{staticClass:"line-number"},[a._v("37")]),s("br"),s("span",{staticClass:"line-number"},[a._v("38")]),s("br"),s("span",{staticClass:"line-number"},[a._v("39")]),s("br"),s("span",{staticClass:"line-number"},[a._v("40")]),s("br"),s("span",{staticClass:"line-number"},[a._v("41")]),s("br"),s("span",{staticClass:"line-number"},[a._v("42")]),s("br"),s("span",{staticClass:"line-number"},[a._v("43")]),s("br"),s("span",{staticClass:"line-number"},[a._v("44")]),s("br")])]),s("h3",{attrs:{id:"_2-第二步-开发datax配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-第二步-开发datax配置文件"}},[a._v("#")]),a._v(" 2）第二步：开发datax配置文件")]),a._v(" "),s("p",[a._v("node03服务器开发stream2stream的配置文件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# cd /data/datax/job\n# vim stream2stream.json\n{\n    "job": {\n        "setting": {\n            "speed": {\n                "byte":10485760\n            },\n            "errorLimit": {\n                "record": 0,\n                "percentage": 0.02\n            }\n        },\n        "content": [\n            {\n                "reader": {\n                    "name": "streamreader",\n                    "parameter": {\n                        "column" : [\n                            {\n                                "value": "DataX",\n                                "type": "string"\n                            },\n                            {\n                                "value": 19890604,\n                                "type": "long"\n                            },\n                            {\n                                "value": "1989-06-04 00:00:00",\n                                "type": "date"\n                            },\n                            {\n                                "value": true,\n                                "type": "bool"\n                            },\n                            {\n                                "value": "test",\n                                "type": "bytes"\n                            }\n                        ],\n                        "sliceRecordCount": 10\n                    }\n                },\n                "writer": {\n                    "name": "streamwriter",\n                    "parameter": {\n                        "print": true,\n                        "encoding": "UTF-8"\n                    }\n                }\n            }\n        ]\n    }\n}\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br"),s("span",{staticClass:"line-number"},[a._v("26")]),s("br"),s("span",{staticClass:"line-number"},[a._v("27")]),s("br"),s("span",{staticClass:"line-number"},[a._v("28")]),s("br"),s("span",{staticClass:"line-number"},[a._v("29")]),s("br"),s("span",{staticClass:"line-number"},[a._v("30")]),s("br"),s("span",{staticClass:"line-number"},[a._v("31")]),s("br"),s("span",{staticClass:"line-number"},[a._v("32")]),s("br"),s("span",{staticClass:"line-number"},[a._v("33")]),s("br"),s("span",{staticClass:"line-number"},[a._v("34")]),s("br"),s("span",{staticClass:"line-number"},[a._v("35")]),s("br"),s("span",{staticClass:"line-number"},[a._v("36")]),s("br"),s("span",{staticClass:"line-number"},[a._v("37")]),s("br"),s("span",{staticClass:"line-number"},[a._v("38")]),s("br"),s("span",{staticClass:"line-number"},[a._v("39")]),s("br"),s("span",{staticClass:"line-number"},[a._v("40")]),s("br"),s("span",{staticClass:"line-number"},[a._v("41")]),s("br"),s("span",{staticClass:"line-number"},[a._v("42")]),s("br"),s("span",{staticClass:"line-number"},[a._v("43")]),s("br"),s("span",{staticClass:"line-number"},[a._v("44")]),s("br"),s("span",{staticClass:"line-number"},[a._v("45")]),s("br"),s("span",{staticClass:"line-number"},[a._v("46")]),s("br"),s("span",{staticClass:"line-number"},[a._v("47")]),s("br"),s("span",{staticClass:"line-number"},[a._v("48")]),s("br"),s("span",{staticClass:"line-number"},[a._v("49")]),s("br"),s("span",{staticClass:"line-number"},[a._v("50")]),s("br"),s("span",{staticClass:"line-number"},[a._v("51")]),s("br"),s("span",{staticClass:"line-number"},[a._v("52")]),s("br"),s("span",{staticClass:"line-number"},[a._v("53")]),s("br"),s("span",{staticClass:"line-number"},[a._v("54")]),s("br")])]),s("h3",{attrs:{id:"_3-第三步-启动datax实现数据的打印"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-第三步-启动datax实现数据的打印"}},[a._v("#")]),a._v(" 3）第三步：启动datax实现数据的打印")]),a._v(" "),s("p",[a._v("执行以下命令启动datax")]),a._v(" "),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# cd /data/datax\n# python /data/datax/bin/datax.py /data/datax/job/stream2stream.json\n\n2023-02-27 10:20:04.678 [main] WARN  ConfigParser - 插件[streamreader,streamwriter]加载失败，1s后重试... Exception:Code:[Common-00], Describe:[您提供的配置文件存在错误信息，请检查您的作业配置 .] - 配置信息错误，您提供的配置文件[/home/data/datax/plugin/reader/._drdsreader/plugin.json]不存在. 请检查您的配置文件. \n2023-02-27 10:20:05.686 [main] ERROR Engine - \n\n经DataX智能分析,该任务最可能的错误原因是:\ncom.alibaba.datax.common.exception.DataXException: Code:[Common-00], Describe:[您提供的配置文件存在错误信息，请检查您的作业配置 .] - 配置信息错误，您提供的配置文件[/home/data/datax/plugin/reader/._drdsreader/plugin.json]不存在. 请检查您的配置文件.\n        at com.alibaba.datax.common.exception.DataXException.asDataXException(DataXException.java:26)\n        at com.alibaba.datax.common.util.Configuration.from(Configuration.java:95)\n        at com.alibaba.datax.core.util.ConfigParser.parseOnePluginConfig(ConfigParser.java:153)\n        at com.alibaba.datax.core.util.ConfigParser.parsePluginConfig(ConfigParser.java:125)\n        at com.alibaba.datax.core.util.ConfigParser.parse(ConfigParser.java:63)\n        at com.alibaba.datax.core.Engine.entry(Engine.java:137)\n        at com.alibaba.datax.core.Engine.main(Engine.java:204)\n       \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br")])]),s("h2",{attrs:{id:"解决报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决报错"}},[a._v("#")]),a._v(" 解决报错")]),a._v(" "),s("p",[a._v("部署datax到本地后首次执行任务报错")]),a._v(" "),s("p",[a._v("分别进入到 reader和 writer 目录,删除掉这类型文件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd /data/datax/plugin/reader\nrm -rf  ./._*\n\ncd /data/datax/plugin/writer\nrm -rf  ./._*\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("再次执行")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# python /data/datax/bin/datax.py /data/datax/job/stream2stream.json\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230227110046389.png?aliyun",alt:"image-20230227110046389"}})]),a._v(" "),s("h2",{attrs:{id:"案例二-使用datax实现mysql2stream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#案例二-使用datax实现mysql2stream"}},[a._v("#")]),a._v(" 案例二：使用datax实现mysql2stream")]),a._v(" "),s("p",[a._v("使用datax实现将mysql一张表的指定字段的数据抽取出来，并打印出来")]),a._v(" "),s("h3",{attrs:{id:"_1-第一步-创建mysql数据库以及向mysql当中插入数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-第一步-创建mysql数据库以及向mysql当中插入数据"}},[a._v("#")]),a._v(" 1）第一步：创建mysql数据库以及向mysql当中插入数据")]),a._v(" "),s("p",[a._v("执行以下命令创建mysql表数据")]),a._v(" "),s("p",[a._v("在 192.168.1.6 数据库中操作")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# mysql -u root -h 192.168.1.6 -P 3306 -p'123456'\nmysql> CREATE DATABASE `userdb`;\nmysql> USE `userdb`;\nmysql> DROP TABLE IF EXISTS `emp`;\nmysql> CREATE TABLE `emp` (\n  `id` int(11) DEFAULT NULL,\n  `name` varchar(100) DEFAULT NULL,\n  `deg` varchar(100) DEFAULT NULL,\n  `salary` int(11) DEFAULT NULL,\n  `dept` varchar(10) DEFAULT NULL,\n  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  `is_delete` bigint(20) DEFAULT '1'\n) ENGINE=InnoDB DEFAULT CHARSET=latin1;\nmysql> insert  into `emp`(`id`,`name`,`deg`,`salary`,`dept`,`create_time`,`update_time`,`is_delete`) values (1201,'gopal','manager',50000,'TP','2018-06-17 18:54:32','2019-01-17 11:19:32',1),(1202,'manishahello','Proof reader',50000,'TPP','2018-06-15 18:54:32','2018-06-17 18:54:32',0),(1203,'khalillskjds','php dev',30000,'AC','2018-06-17 18:54:32','2019-03-14 09:18:27',1),(1204,'prasanth_xxx','php dev',30000,'AC','2018-06-17 18:54:32','2019-04-07 09:09:24',1),(1205,'kranthixxx','admin',20000,'TP','2018-06-17 18:54:32','2018-12-08 11:50:33',0),(1206,'garry','manager',50000,'TPC','2018-12-10 21:41:09','2018-12-10 21:41:09',1),(1207,'oliver','php dev',2000,'AC','2018-12-15 13:49:13','2018-12-15 13:49:13',1),(1208,'hello','phpDev',200,'TP','2018-12-16 09:41:48','2018-12-16 09:41:48',1),(1209,'ABC','HELLO',300,NULL,'2018-12-16 09:42:04','2018-12-16 09:42:24',1),(1210,'HELLO','HELLO',5800,'TP','2019-01-24 09:02:43','2019-01-24 09:02:43',1),(1211,'WORLD','TEST',8800,'AC','2019-01-24 09:03:15','2019-01-24 09:03:15',1),(1212,'sdfs','sdfsdf',8500,'AC','2019-03-13 22:01:38','2019-03-13 22:01:38',1),(1213,NULL,'sdfsdf',9800,'sdfsdf','2019-03-14 09:08:31','2019-03-14 09:08:54',1),(1214,'xxx','sdfsdf',9500,NULL,'2019-03-14 09:13:32','2019-03-14 09:13:44',0),(1215,'sdfsf','sdfsdfsdf',9870,'TP','2019-04-07 09:10:39','2019-04-07 09:11:18',0),(1216,'hello','HELLO',5600,'AC','2019-04-07 09:37:05','2019-04-07 09:37:05',1),(1217,'HELLO2','hello2',7800,'TP','2019-04-07 09:37:40','2019-04-07 09:38:17',1);\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br")])]),s("p",[a._v("查看数据")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230227104417902.png?aliyun",alt:"image-20230227104417902"}})]),a._v(" "),s("h3",{attrs:{id:"_2-第二步-开发datax的配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-第二步-开发datax的配置文件"}},[a._v("#")]),a._v(" 2）第二步：开发datax的配置文件")]),a._v(" "),s("p",[a._v("node03执行以下命令查看帮助文档")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# cd /data/datax\n# python bin/datax.py  -r mysqlreader -w streamwriter\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("node03执行以下命令开发datax配置文件，根据实际情况填写用户名和密码等。")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# cd /data/datax/job\n# vim mysql2stream.json\n{\n    "job": {\n        "setting": {\n            "speed": {\n                 "channel": 3\n            },\n            "errorLimit": {\n                "record": 0,\n                "percentage": 0.02\n            }\n        },\n        "content": [\n            {\n                "reader": {\n                    "name": "mysqlreader",\n                    "parameter": {\n                        "username": "root",\n                        "password": "123456",\n                        "column": [\n                            "id",\n                            "name"\n                        ],\n                        "connection": [\n                            {\n                                "table": [\n                                    "emp"\n                                ],\n                                "jdbcUrl": [\n     "jdbc:mysql://192.168.1.6:3306/userdb"\n                                ]\n                            }\n                        ]\n                    }\n                },\n               "writer": {\n                    "name": "streamwriter",\n                    "parameter": {\n                         "encoding":"GBK",\n                        "print":true\n                    }\n                }\n            }\n        ]\n    }\n}\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br"),s("span",{staticClass:"line-number"},[a._v("26")]),s("br"),s("span",{staticClass:"line-number"},[a._v("27")]),s("br"),s("span",{staticClass:"line-number"},[a._v("28")]),s("br"),s("span",{staticClass:"line-number"},[a._v("29")]),s("br"),s("span",{staticClass:"line-number"},[a._v("30")]),s("br"),s("span",{staticClass:"line-number"},[a._v("31")]),s("br"),s("span",{staticClass:"line-number"},[a._v("32")]),s("br"),s("span",{staticClass:"line-number"},[a._v("33")]),s("br"),s("span",{staticClass:"line-number"},[a._v("34")]),s("br"),s("span",{staticClass:"line-number"},[a._v("35")]),s("br"),s("span",{staticClass:"line-number"},[a._v("36")]),s("br"),s("span",{staticClass:"line-number"},[a._v("37")]),s("br"),s("span",{staticClass:"line-number"},[a._v("38")]),s("br"),s("span",{staticClass:"line-number"},[a._v("39")]),s("br"),s("span",{staticClass:"line-number"},[a._v("40")]),s("br"),s("span",{staticClass:"line-number"},[a._v("41")]),s("br"),s("span",{staticClass:"line-number"},[a._v("42")]),s("br"),s("span",{staticClass:"line-number"},[a._v("43")]),s("br"),s("span",{staticClass:"line-number"},[a._v("44")]),s("br"),s("span",{staticClass:"line-number"},[a._v("45")]),s("br"),s("span",{staticClass:"line-number"},[a._v("46")]),s("br"),s("span",{staticClass:"line-number"},[a._v("47")]),s("br")])]),s("h3",{attrs:{id:"_3-第三步-启动datax实现数据同步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-第三步-启动datax实现数据同步"}},[a._v("#")]),a._v(" 3）第三步：启动datax实现数据同步")]),a._v(" "),s("p",[a._v("node03执行以下命令实现datax数据同步")]),a._v(" "),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# cd /data/datax\n# python /data/datax/bin/datax.py  /data/datax/job/mysql2stream.json \n报错：\n2023-02-27 10:49:31.382 [main] WARN  ConfigParser - 插件[mysqlreader,streamwriter]加载失败，1s后重试... Exception:Code:[Common-00], Describe:[您提供的配置文件存在错误信息，请检查您的作业配置 .] - 配置信息错误，您提供的配置文件[/home/data/datax/plugin/reader/._drdsreader/plugin.json]不存在. 请检查您的配置文件. \n2023-02-27 10:49:32.389 [main] ERROR Engine - \n\n经DataX智能分析,该任务最可能的错误原因是:\ncom.alibaba.datax.common.exception.DataXException: Code:[Common-00], Describe:[您提供的配置文件存在错误信息，请检查您的作业配置 .] - 配置信息错误，您提供的配置文件[/home/data/datax/plugin/reader/._drdsreader/plugin.json]不存在. 请检查您的配置文件.\n        at com.alibaba.datax.common.exception.DataXException.asDataXException(DataXException.java:26)\n        at com.alibaba.datax.common.util.Configuration.from(Configuration.java:95)\n        at com.alibaba.datax.core.util.ConfigParser.parseOnePluginConfig(ConfigParser.java:153)\n        at com.alibaba.datax.core.util.ConfigParser.parsePluginConfig(ConfigParser.java:125)\n        at com.alibaba.datax.core.util.ConfigParser.parse(ConfigParser.java:63)\n        at com.alibaba.datax.core.Engine.entry(Engine.java:137)\n        at com.alibaba.datax.core.Engine.main(Engine.java:204)\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br")])]),s("p",[a._v("部署datax到本地后首次执行任务报错")]),a._v(" "),s("p",[a._v("分别进入到 reader和 writer 目录,删除掉这类型文件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd /data/datax/plugin/reader\nrm -rf  ./._*\n\ncd /data/datax/plugin/writer\nrm -rf  ./._*\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("再次执行")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# python /data/datax/bin/datax.py  /data/datax/job/mysql2stream.json \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230227105641555.png?aliyun",alt:"image-20230227105641555"}})]),a._v(" "),s("h2",{attrs:{id:"案例三-使用datax实现增量数据同步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#案例三-使用datax实现增量数据同步"}},[a._v("#")]),a._v(" 案例三：使用datax实现增量数据同步")]),a._v(" "),s("p",[a._v("使用datax实现增量数据同步打印到控制台")]),a._v(" "),s("h3",{attrs:{id:"_1-第一步-开发datax的配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-第一步-开发datax的配置文件"}},[a._v("#")]),a._v(" 1）第一步：开发datax的配置文件")]),a._v(" "),s("p",[a._v("node03执行以下命令开发datax配置文件")]),a._v(" "),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# cd /data/datax/job\n# vim mysql2streamadd.json\n{\n    "job": {\n        "setting": {\n            "speed": {\n                 "channel": 3\n            },\n            "errorLimit": {\n                "record": 0,\n                "percentage": 0.02\n            }\n        },\n        "content": [\n            {\n                "reader": {\n                    "name": "mysqlreader",\n                    "parameter": {\n                        "username": "root",\n                        "password": "123456",\n                        "column": [\n                            "id",\n                            "name"\n                        ],\n\t\t\t\t\t\t"where": "create_time > \'${start_time}\' and create_time &lt; \'${end_time}\'",\n                        "connection": [\n                            {\n                                "table": [\n                                    "emp"\n                                ],\n                                "jdbcUrl": [\n\t\t\t\t\t\t\t\t\t"jdbc:mysql://192.168.1.6:3306/userdb"\n                                ]\n                            }\n                        ]\n                    }\n                },\n               "writer": {\n                    "name": "streamwriter",\n                    "parameter": {\n                         "encoding":"GBK",\n                        "print":true\n                    }\n                }\n            }\n        ]\n    }\n}\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br"),s("span",{staticClass:"line-number"},[a._v("26")]),s("br"),s("span",{staticClass:"line-number"},[a._v("27")]),s("br"),s("span",{staticClass:"line-number"},[a._v("28")]),s("br"),s("span",{staticClass:"line-number"},[a._v("29")]),s("br"),s("span",{staticClass:"line-number"},[a._v("30")]),s("br"),s("span",{staticClass:"line-number"},[a._v("31")]),s("br"),s("span",{staticClass:"line-number"},[a._v("32")]),s("br"),s("span",{staticClass:"line-number"},[a._v("33")]),s("br"),s("span",{staticClass:"line-number"},[a._v("34")]),s("br"),s("span",{staticClass:"line-number"},[a._v("35")]),s("br"),s("span",{staticClass:"line-number"},[a._v("36")]),s("br"),s("span",{staticClass:"line-number"},[a._v("37")]),s("br"),s("span",{staticClass:"line-number"},[a._v("38")]),s("br"),s("span",{staticClass:"line-number"},[a._v("39")]),s("br"),s("span",{staticClass:"line-number"},[a._v("40")]),s("br"),s("span",{staticClass:"line-number"},[a._v("41")]),s("br"),s("span",{staticClass:"line-number"},[a._v("42")]),s("br"),s("span",{staticClass:"line-number"},[a._v("43")]),s("br"),s("span",{staticClass:"line-number"},[a._v("44")]),s("br"),s("span",{staticClass:"line-number"},[a._v("45")]),s("br"),s("span",{staticClass:"line-number"},[a._v("46")]),s("br"),s("span",{staticClass:"line-number"},[a._v("47")]),s("br"),s("span",{staticClass:"line-number"},[a._v("48")]),s("br")])]),s("h3",{attrs:{id:"_2-第二步-启动datax实现数据同步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-第二步-启动datax实现数据同步"}},[a._v("#")]),a._v(" 2）第二步：启动datax实现数据同步")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# cd /data/datax\n# /data/datax/bin/datax.py /data/datax/job/mysql2streamadd.json -p \"-Dstart_time='2018-06-15 00:00:00' -Dend_time='2023-06-15 23:59:59'\"\n\nSQL：\nselect id,name from emp where (create_time > '2018-06-15 00:00:00' and create_time < '2023-06-15 23:59:59'\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h2",{attrs:{id:"案例四-使用datax实现mysql2mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#案例四-使用datax实现mysql2mysql"}},[a._v("#")]),a._v(" 案例四：使用datax实现mysql2mysql")]),a._v(" "),s("p",[a._v("使用datax实现将数据从mysql当中读取，并且通过sql语句实现数据的过滤，并且将数据写入到mysql另外一张表当中去")]),a._v(" "),s("h3",{attrs:{id:"_1-第一步-创建mysql另外一张表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-第一步-创建mysql另外一张表"}},[a._v("#")]),a._v(" 1）第一步：创建mysql另外一张表")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# mysql -u root -h 192.168.1.6 -P 3306 -p\n\nmysql> USE userdb;\nmysql> CREATE TABLE `emp2` (\n  `id` INT(11) DEFAULT NULL,\n  `name` VARCHAR(100) DEFAULT NULL,\n  `deg` VARCHAR(100) DEFAULT NULL,\n  `salary` INT(11) DEFAULT NULL\n) ENGINE=INNODB DEFAULT CHARSET=latin1;\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br")])]),s("h3",{attrs:{id:"_2-第二步-开发datax的配置文件-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-第二步-开发datax的配置文件-2"}},[a._v("#")]),a._v(" 2）第二步：开发datax的配置文件")]),a._v(" "),s("p",[a._v("查看帮助文档")]),a._v(" "),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# cd /data/datax\n# python /data/datax/bin/datax.py  -r mysqlreader -w mysqlwriter\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("node03执行以下命令开发datax配置文件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# cd /data/datax/job/\n# vim mysql2mysql.json\n{\n    "job": {\n        "setting": {\n            "speed": {\n                 "channel":1\n            }\n        },\n        "content": [\n            {\n                "reader": {\n                    "name": "mysqlreader",\n                    "parameter": {\n                        "username": "root",\n                        "password": "123456",\n                        "connection": [\n                            {\n                                "querySql": [\n                                    "select id,name,deg,salary from emp where id < 1208;"\n                                ],\n                                "jdbcUrl": [\n                                    "jdbc:mysql://192.168.1.6:3306/userdb"\n                                ]\n                            }\n                        ]\n                    }\n                },\n                  "writer": {\n                    "name": "mysqlwriter",\n                    "parameter": {\n                        "writeMode": "insert",\n                        "username": "root",\n                        "password": "123456",\n                        "column": [\n                            "id",\n                            "name",\n\t\t\t\t\t\t\t"deg",\n\t\t\t\t\t\t\t"salary"\n                        ],\n                        "session": [\n                        \t"set session sql_mode=\'ANSI\'"\n                        ],\n                        "preSql": [\n                            "delete from emp2"\n                        ],\n                        "connection": [\n                            {\n                                "jdbcUrl": "jdbc:mysql://192.168.1.6:3306/userdb?useUnicode=true&characterEncoding=utf-8",\n                                "table": [\n                                    "emp2"\n                                ]\n                            }\n                        ]\n                    }\n                }\n            }\n        ]\n    }\n}\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br"),s("span",{staticClass:"line-number"},[a._v("26")]),s("br"),s("span",{staticClass:"line-number"},[a._v("27")]),s("br"),s("span",{staticClass:"line-number"},[a._v("28")]),s("br"),s("span",{staticClass:"line-number"},[a._v("29")]),s("br"),s("span",{staticClass:"line-number"},[a._v("30")]),s("br"),s("span",{staticClass:"line-number"},[a._v("31")]),s("br"),s("span",{staticClass:"line-number"},[a._v("32")]),s("br"),s("span",{staticClass:"line-number"},[a._v("33")]),s("br"),s("span",{staticClass:"line-number"},[a._v("34")]),s("br"),s("span",{staticClass:"line-number"},[a._v("35")]),s("br"),s("span",{staticClass:"line-number"},[a._v("36")]),s("br"),s("span",{staticClass:"line-number"},[a._v("37")]),s("br"),s("span",{staticClass:"line-number"},[a._v("38")]),s("br"),s("span",{staticClass:"line-number"},[a._v("39")]),s("br"),s("span",{staticClass:"line-number"},[a._v("40")]),s("br"),s("span",{staticClass:"line-number"},[a._v("41")]),s("br"),s("span",{staticClass:"line-number"},[a._v("42")]),s("br"),s("span",{staticClass:"line-number"},[a._v("43")]),s("br"),s("span",{staticClass:"line-number"},[a._v("44")]),s("br"),s("span",{staticClass:"line-number"},[a._v("45")]),s("br"),s("span",{staticClass:"line-number"},[a._v("46")]),s("br"),s("span",{staticClass:"line-number"},[a._v("47")]),s("br"),s("span",{staticClass:"line-number"},[a._v("48")]),s("br"),s("span",{staticClass:"line-number"},[a._v("49")]),s("br"),s("span",{staticClass:"line-number"},[a._v("50")]),s("br"),s("span",{staticClass:"line-number"},[a._v("51")]),s("br"),s("span",{staticClass:"line-number"},[a._v("52")]),s("br"),s("span",{staticClass:"line-number"},[a._v("53")]),s("br"),s("span",{staticClass:"line-number"},[a._v("54")]),s("br"),s("span",{staticClass:"line-number"},[a._v("55")]),s("br"),s("span",{staticClass:"line-number"},[a._v("56")]),s("br"),s("span",{staticClass:"line-number"},[a._v("57")]),s("br"),s("span",{staticClass:"line-number"},[a._v("58")]),s("br"),s("span",{staticClass:"line-number"},[a._v("59")]),s("br"),s("span",{staticClass:"line-number"},[a._v("60")]),s("br")])]),s("h3",{attrs:{id:"_3-第三步-启动datax实现数据同步-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-第三步-启动datax实现数据同步-2"}},[a._v("#")]),a._v(" 3）第三步：启动datax实现数据同步")]),a._v(" "),s("p",[a._v("node03执行以下命令实现datax数据同步")]),a._v(" "),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd /data/datax\npython /data/datax/bin/datax.py /data/datax/job/mysql2mysql.json\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("完成")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("2023-02-27 15:57:43.684 [job-0] INFO  JobContainer - PerfTrace not enable!\n2023-02-27 15:57:43.685 [job-0] INFO  StandAloneJobContainerCommunicator - Total 7 records, 177 bytes | Speed 17B/s, 0 records/s | Error 0 records, 0 bytes |  All Task WaitWriterTime 0.000s |  All Task WaitReaderTime 0.000s | Percentage 100.00%\n2023-02-27 15:57:43.687 [job-0] INFO  JobContainer - \n任务启动时刻                    : 2023-02-27 15:57:33\n任务结束时刻                    : 2023-02-27 15:57:43\n任务总计耗时                    :                 10s\n任务平均流量                    :               17B/s\n记录写入速度                    :              0rec/s\n读出记录总数                    :                   7\n读写失败总数                    :                   0\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br")])]),s("h3",{attrs:{id:"_4-查看数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-查看数据"}},[a._v("#")]),a._v(" 4）查看数据")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230227155839981.png?aliyun",alt:"image-20230227155839981"}})]),a._v(" "),s("h2",{attrs:{id:"帮助文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#帮助文档"}},[a._v("#")]),a._v(" 帮助文档")]),a._v(" "),s("p",[a._v("MysqlReader 插件文档： https://github.com/alibaba/DataX/blob/master/mysqlreader/doc/mysqlreader.md")]),a._v(" "),s("p",[a._v("DataX MysqlWriter   https://github.com/alibaba/DataX/blob/master/mysqlwriter/doc/mysqlwriter.md")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# python /data/datax/bin/datax.py -r mysqlreader -w mysqlwriter\n{\n    "job": {\n        "content": [\n            {\n                "reader": {\n                    "name": "mysqlreader",\t\t\t\t\t\t\t# 读取端\n                    "parameter": {\n                        "column": [], \t\t\t\t\t\t\t\t# 需要同步的列 (* 表示所有的列)\n                        "connection": [\n                            {\n                                "jdbcUrl": [], \t\t\t\t\t\t# 连接信息\n                                "table": []\t\t\t\t\t\t\t# 连接表\n                            }\n                        ], \n                        "password": "", \t\t\t\t\t\t\t# 连接用户\n                        "username": "", \t\t\t\t\t\t\t# 连接密码\n                        "where": ""\t\t\t\t\t\t\t\t\t# 描述筛选条件\n                    }\n                }, \n                "writer": {\n                    "name": "mysqlwriter",\t\t\t\t\t\t\t# 写入端\n                    "parameter": {\n                        "column": [], \t\t\t\t\t\t\t\t# 需要同步的列\n                        "connection": [\n                            {\n                                "jdbcUrl": "", \t\t\t\t\t\t# 连接信息\n                                "table": []\t\t\t\t\t\t\t# 连接表\n                            }\n                        ], \n                        "password": "", \t\t\t\t\t\t\t# 连接密码\n                        "preSql": [], \t\t\t\t\t\t\t\t# 同步前. 要做的事\n                        "session": [], \n                        "username": "",\t\t\t\t\t\t\t\t# 连接用户 \n                        "writeMode": ""\t\t\t\t\t\t\t\t# 操作类型\n                    }\n                }\n            }\n        ], \n        "setting": {\n            "speed": {\n                "channel": ""\t\t\t\t\t\t\t\t\t\t# 指定并发数\n            }\n        }\n    }\n}\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br"),s("span",{staticClass:"line-number"},[a._v("26")]),s("br"),s("span",{staticClass:"line-number"},[a._v("27")]),s("br"),s("span",{staticClass:"line-number"},[a._v("28")]),s("br"),s("span",{staticClass:"line-number"},[a._v("29")]),s("br"),s("span",{staticClass:"line-number"},[a._v("30")]),s("br"),s("span",{staticClass:"line-number"},[a._v("31")]),s("br"),s("span",{staticClass:"line-number"},[a._v("32")]),s("br"),s("span",{staticClass:"line-number"},[a._v("33")]),s("br"),s("span",{staticClass:"line-number"},[a._v("34")]),s("br"),s("span",{staticClass:"line-number"},[a._v("35")]),s("br"),s("span",{staticClass:"line-number"},[a._v("36")]),s("br"),s("span",{staticClass:"line-number"},[a._v("37")]),s("br"),s("span",{staticClass:"line-number"},[a._v("38")]),s("br"),s("span",{staticClass:"line-number"},[a._v("39")]),s("br"),s("span",{staticClass:"line-number"},[a._v("40")]),s("br"),s("span",{staticClass:"line-number"},[a._v("41")]),s("br"),s("span",{staticClass:"line-number"},[a._v("42")]),s("br"),s("span",{staticClass:"line-number"},[a._v("43")]),s("br"),s("span",{staticClass:"line-number"},[a._v("44")]),s("br"),s("span",{staticClass:"line-number"},[a._v("45")]),s("br"),s("span",{staticClass:"line-number"},[a._v("46")]),s("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);