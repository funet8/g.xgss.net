<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>群晖NAS配置之自有服务器frp实现内网穿透 | 星哥私有教程</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/images/logo.png">
    <link rel="manifest" href="/images/logo.png">
    <link rel="apple-touch-icon" href="/images/logo.png">
    <meta name="description" content="星哥说事vuepress描述，包含前端、后端、运维、等技术的介绍">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.aadc6af7.css" as="style"><link rel="preload" href="/assets/js/app.44414999.js" as="script"><link rel="preload" href="/assets/js/3.dac1e8fe.js" as="script"><link rel="preload" href="/assets/js/1.2b084c82.js" as="script"><link rel="preload" href="/assets/js/89.59431d10.js" as="script"><link rel="prefetch" href="/assets/js/10.d948419f.js"><link rel="prefetch" href="/assets/js/100.fb8bbc91.js"><link rel="prefetch" href="/assets/js/101.23c6db11.js"><link rel="prefetch" href="/assets/js/102.f3e6e4bc.js"><link rel="prefetch" href="/assets/js/103.12c5752b.js"><link rel="prefetch" href="/assets/js/104.c514ca9d.js"><link rel="prefetch" href="/assets/js/105.5b525962.js"><link rel="prefetch" href="/assets/js/106.2bf777b3.js"><link rel="prefetch" href="/assets/js/107.3138603e.js"><link rel="prefetch" href="/assets/js/108.fd5bd233.js"><link rel="prefetch" href="/assets/js/109.8d0bfe38.js"><link rel="prefetch" href="/assets/js/11.2364fdb2.js"><link rel="prefetch" href="/assets/js/110.4237be6a.js"><link rel="prefetch" href="/assets/js/111.1f9cc2a6.js"><link rel="prefetch" href="/assets/js/112.21b17394.js"><link rel="prefetch" href="/assets/js/113.34bc511e.js"><link rel="prefetch" href="/assets/js/114.5a7dc0d9.js"><link rel="prefetch" href="/assets/js/115.28fdf540.js"><link rel="prefetch" href="/assets/js/116.80db10fc.js"><link rel="prefetch" href="/assets/js/117.f96ae1e4.js"><link rel="prefetch" href="/assets/js/118.687d1d39.js"><link rel="prefetch" href="/assets/js/119.9b96d881.js"><link rel="prefetch" href="/assets/js/12.dfbb0ebd.js"><link rel="prefetch" href="/assets/js/120.e8cff284.js"><link rel="prefetch" href="/assets/js/121.d9f2a059.js"><link rel="prefetch" href="/assets/js/122.27570364.js"><link rel="prefetch" href="/assets/js/123.d28be490.js"><link rel="prefetch" href="/assets/js/124.53e37b4c.js"><link rel="prefetch" href="/assets/js/125.f9322de8.js"><link rel="prefetch" href="/assets/js/126.eae0d779.js"><link rel="prefetch" href="/assets/js/127.5066d08e.js"><link rel="prefetch" href="/assets/js/128.d4843e2c.js"><link rel="prefetch" href="/assets/js/129.dfb557d2.js"><link rel="prefetch" href="/assets/js/13.2f339c60.js"><link rel="prefetch" href="/assets/js/130.adf01ff1.js"><link rel="prefetch" href="/assets/js/131.2e54b328.js"><link rel="prefetch" href="/assets/js/132.f17050a2.js"><link rel="prefetch" href="/assets/js/133.28c68e6a.js"><link rel="prefetch" href="/assets/js/134.8ab84102.js"><link rel="prefetch" href="/assets/js/135.d3c6db80.js"><link rel="prefetch" href="/assets/js/136.f98fda3f.js"><link rel="prefetch" href="/assets/js/137.a4fc31f5.js"><link rel="prefetch" href="/assets/js/138.c8850621.js"><link rel="prefetch" href="/assets/js/139.cc6cfd5d.js"><link rel="prefetch" href="/assets/js/14.970db6ab.js"><link rel="prefetch" href="/assets/js/140.dfa0903d.js"><link rel="prefetch" href="/assets/js/141.255ade94.js"><link rel="prefetch" href="/assets/js/142.5880752f.js"><link rel="prefetch" href="/assets/js/143.641717d3.js"><link rel="prefetch" href="/assets/js/144.807bcc92.js"><link rel="prefetch" href="/assets/js/145.4f6ec774.js"><link rel="prefetch" href="/assets/js/146.5e4b7c32.js"><link rel="prefetch" href="/assets/js/147.e3465f3e.js"><link rel="prefetch" href="/assets/js/148.1ad0d217.js"><link rel="prefetch" href="/assets/js/149.704e530b.js"><link rel="prefetch" href="/assets/js/15.cac89473.js"><link rel="prefetch" href="/assets/js/150.64302ed7.js"><link rel="prefetch" href="/assets/js/151.3077b142.js"><link rel="prefetch" href="/assets/js/152.cff06017.js"><link rel="prefetch" href="/assets/js/153.6953872f.js"><link rel="prefetch" href="/assets/js/154.53f2fee9.js"><link rel="prefetch" href="/assets/js/155.bdd12704.js"><link rel="prefetch" href="/assets/js/156.7299b83e.js"><link rel="prefetch" href="/assets/js/157.190eb90d.js"><link rel="prefetch" href="/assets/js/158.cdec71bf.js"><link rel="prefetch" href="/assets/js/159.f1928d2a.js"><link rel="prefetch" href="/assets/js/16.b02c5827.js"><link rel="prefetch" href="/assets/js/160.4352cf10.js"><link rel="prefetch" href="/assets/js/161.b9043a34.js"><link rel="prefetch" href="/assets/js/162.eeac6f07.js"><link rel="prefetch" href="/assets/js/163.72db20e7.js"><link rel="prefetch" href="/assets/js/164.6ed707d1.js"><link rel="prefetch" href="/assets/js/165.b48249f5.js"><link rel="prefetch" href="/assets/js/166.b9cf2e8a.js"><link rel="prefetch" href="/assets/js/167.f41650cd.js"><link rel="prefetch" href="/assets/js/168.25a54bc1.js"><link rel="prefetch" href="/assets/js/169.25357c41.js"><link rel="prefetch" href="/assets/js/17.f7cba118.js"><link rel="prefetch" href="/assets/js/170.02d046d1.js"><link rel="prefetch" href="/assets/js/171.dd3fba8e.js"><link rel="prefetch" href="/assets/js/172.46e2acc4.js"><link rel="prefetch" href="/assets/js/173.71a35500.js"><link rel="prefetch" href="/assets/js/174.71d545f7.js"><link rel="prefetch" href="/assets/js/175.ae1d5111.js"><link rel="prefetch" href="/assets/js/176.11f3b985.js"><link rel="prefetch" href="/assets/js/177.a768b1ba.js"><link rel="prefetch" href="/assets/js/178.9eb0db2c.js"><link rel="prefetch" href="/assets/js/179.9e385294.js"><link rel="prefetch" href="/assets/js/18.aec38902.js"><link rel="prefetch" href="/assets/js/180.47636ce4.js"><link rel="prefetch" href="/assets/js/181.f9182f2b.js"><link rel="prefetch" href="/assets/js/182.427e6786.js"><link rel="prefetch" href="/assets/js/183.dc3d5aef.js"><link rel="prefetch" href="/assets/js/184.ece0126e.js"><link rel="prefetch" href="/assets/js/185.0d201eea.js"><link rel="prefetch" href="/assets/js/186.2f5bdcec.js"><link rel="prefetch" href="/assets/js/187.564d8583.js"><link rel="prefetch" href="/assets/js/188.6224db09.js"><link rel="prefetch" href="/assets/js/189.0f4ec19d.js"><link rel="prefetch" href="/assets/js/19.f09be7d9.js"><link rel="prefetch" href="/assets/js/190.208f3310.js"><link rel="prefetch" href="/assets/js/191.87f1c1f9.js"><link rel="prefetch" href="/assets/js/192.22d6a11a.js"><link rel="prefetch" href="/assets/js/193.e15ff727.js"><link rel="prefetch" href="/assets/js/194.e7d8f87d.js"><link rel="prefetch" href="/assets/js/195.0169ba9c.js"><link rel="prefetch" href="/assets/js/196.bdbf7dff.js"><link rel="prefetch" href="/assets/js/197.9b76e6f5.js"><link rel="prefetch" href="/assets/js/198.0de047d6.js"><link rel="prefetch" href="/assets/js/199.b07dfa0a.js"><link rel="prefetch" href="/assets/js/20.a644b163.js"><link rel="prefetch" href="/assets/js/200.7b05aa86.js"><link rel="prefetch" href="/assets/js/201.97e83e9d.js"><link rel="prefetch" href="/assets/js/202.afecd374.js"><link rel="prefetch" href="/assets/js/203.bdbe048c.js"><link rel="prefetch" href="/assets/js/204.d0ef5791.js"><link rel="prefetch" href="/assets/js/205.3cfb1c56.js"><link rel="prefetch" href="/assets/js/206.568c53da.js"><link rel="prefetch" href="/assets/js/207.1feb163d.js"><link rel="prefetch" href="/assets/js/208.528acf43.js"><link rel="prefetch" href="/assets/js/209.4560f9d4.js"><link rel="prefetch" href="/assets/js/21.7f1728ea.js"><link rel="prefetch" href="/assets/js/210.2559cb42.js"><link rel="prefetch" href="/assets/js/211.2f723171.js"><link rel="prefetch" href="/assets/js/212.79628027.js"><link rel="prefetch" href="/assets/js/213.eeca0f4a.js"><link rel="prefetch" href="/assets/js/214.1fb41c81.js"><link rel="prefetch" href="/assets/js/215.b5f69040.js"><link rel="prefetch" href="/assets/js/216.c62dbfff.js"><link rel="prefetch" href="/assets/js/217.36f7e15b.js"><link rel="prefetch" href="/assets/js/218.15c61121.js"><link rel="prefetch" href="/assets/js/219.d427439e.js"><link rel="prefetch" href="/assets/js/22.6ac35747.js"><link rel="prefetch" href="/assets/js/220.d8bf0028.js"><link rel="prefetch" href="/assets/js/221.b186da86.js"><link rel="prefetch" href="/assets/js/222.dc35c353.js"><link rel="prefetch" href="/assets/js/223.17e32375.js"><link rel="prefetch" href="/assets/js/224.515f2539.js"><link rel="prefetch" href="/assets/js/225.070e6785.js"><link rel="prefetch" href="/assets/js/226.1ec07211.js"><link rel="prefetch" href="/assets/js/227.10babbd0.js"><link rel="prefetch" href="/assets/js/228.10d2322c.js"><link rel="prefetch" href="/assets/js/229.68fdfd8a.js"><link rel="prefetch" href="/assets/js/23.9d8529b4.js"><link rel="prefetch" href="/assets/js/230.ce705130.js"><link rel="prefetch" href="/assets/js/231.ef53390e.js"><link rel="prefetch" href="/assets/js/232.2f76c4b1.js"><link rel="prefetch" href="/assets/js/233.71cfd6a0.js"><link rel="prefetch" href="/assets/js/234.15d8793a.js"><link rel="prefetch" href="/assets/js/235.f5614898.js"><link rel="prefetch" href="/assets/js/236.7352b6f5.js"><link rel="prefetch" href="/assets/js/237.5add9e34.js"><link rel="prefetch" href="/assets/js/238.aada021b.js"><link rel="prefetch" href="/assets/js/239.4cf64d74.js"><link rel="prefetch" href="/assets/js/24.d2af7089.js"><link rel="prefetch" href="/assets/js/240.d66fe533.js"><link rel="prefetch" href="/assets/js/241.eb1a179f.js"><link rel="prefetch" href="/assets/js/242.8e0f2ae8.js"><link rel="prefetch" href="/assets/js/243.39980f52.js"><link rel="prefetch" href="/assets/js/244.b065ad4b.js"><link rel="prefetch" href="/assets/js/245.69c14157.js"><link rel="prefetch" href="/assets/js/246.3a51ce42.js"><link rel="prefetch" href="/assets/js/247.8b92c18d.js"><link rel="prefetch" href="/assets/js/248.e05d69c0.js"><link rel="prefetch" href="/assets/js/249.49e0b21f.js"><link rel="prefetch" href="/assets/js/25.771a511c.js"><link rel="prefetch" href="/assets/js/250.2b8e71b1.js"><link rel="prefetch" href="/assets/js/26.21923cbb.js"><link rel="prefetch" href="/assets/js/27.4cd350c4.js"><link rel="prefetch" href="/assets/js/28.3013c8f6.js"><link rel="prefetch" href="/assets/js/29.faf75556.js"><link rel="prefetch" href="/assets/js/30.2baec88b.js"><link rel="prefetch" href="/assets/js/31.fcbd28cc.js"><link rel="prefetch" href="/assets/js/32.297e1243.js"><link rel="prefetch" href="/assets/js/33.24d6a8d5.js"><link rel="prefetch" href="/assets/js/34.cba3788c.js"><link rel="prefetch" href="/assets/js/35.650a33fd.js"><link rel="prefetch" href="/assets/js/36.86ffd067.js"><link rel="prefetch" href="/assets/js/37.1085254f.js"><link rel="prefetch" href="/assets/js/38.f66b1e84.js"><link rel="prefetch" href="/assets/js/39.9051bd56.js"><link rel="prefetch" href="/assets/js/4.5096cd25.js"><link rel="prefetch" href="/assets/js/40.4a6eb2a9.js"><link rel="prefetch" href="/assets/js/41.d32f6ae2.js"><link rel="prefetch" href="/assets/js/42.1becbc16.js"><link rel="prefetch" href="/assets/js/43.398b6717.js"><link rel="prefetch" href="/assets/js/44.4ef5e13d.js"><link rel="prefetch" href="/assets/js/45.51cf0d90.js"><link rel="prefetch" href="/assets/js/46.37d929ac.js"><link rel="prefetch" href="/assets/js/47.03c5dd43.js"><link rel="prefetch" href="/assets/js/48.1a371346.js"><link rel="prefetch" href="/assets/js/49.d137766d.js"><link rel="prefetch" href="/assets/js/5.3869a340.js"><link rel="prefetch" href="/assets/js/50.82f518c8.js"><link rel="prefetch" href="/assets/js/51.67bfb3b8.js"><link rel="prefetch" href="/assets/js/52.7e422fc0.js"><link rel="prefetch" href="/assets/js/53.f8cbf830.js"><link rel="prefetch" href="/assets/js/54.8b776889.js"><link rel="prefetch" href="/assets/js/55.536f7b3e.js"><link rel="prefetch" href="/assets/js/56.48859523.js"><link rel="prefetch" href="/assets/js/57.3a540bd9.js"><link rel="prefetch" href="/assets/js/58.ec078fdc.js"><link rel="prefetch" href="/assets/js/59.3334a223.js"><link rel="prefetch" href="/assets/js/6.eb4dc413.js"><link rel="prefetch" href="/assets/js/60.91773eb2.js"><link rel="prefetch" href="/assets/js/61.100a3ac7.js"><link rel="prefetch" href="/assets/js/62.6b91e15c.js"><link rel="prefetch" href="/assets/js/63.728217c8.js"><link rel="prefetch" href="/assets/js/64.48bc35b2.js"><link rel="prefetch" href="/assets/js/65.334d1610.js"><link rel="prefetch" href="/assets/js/66.c7497965.js"><link rel="prefetch" href="/assets/js/67.6aa84f94.js"><link rel="prefetch" href="/assets/js/68.8fb349bc.js"><link rel="prefetch" href="/assets/js/69.db48cfc6.js"><link rel="prefetch" href="/assets/js/7.d8afdfd4.js"><link rel="prefetch" href="/assets/js/70.cccb423f.js"><link rel="prefetch" href="/assets/js/71.eaacc498.js"><link rel="prefetch" href="/assets/js/72.059b23ea.js"><link rel="prefetch" href="/assets/js/73.492b7e39.js"><link rel="prefetch" href="/assets/js/74.ec93b989.js"><link rel="prefetch" href="/assets/js/75.03f2bccc.js"><link rel="prefetch" href="/assets/js/76.e316fcbb.js"><link rel="prefetch" href="/assets/js/77.4aabc55a.js"><link rel="prefetch" href="/assets/js/78.4d060933.js"><link rel="prefetch" href="/assets/js/79.38b6cfbb.js"><link rel="prefetch" href="/assets/js/8.0f122f40.js"><link rel="prefetch" href="/assets/js/80.a9fadb32.js"><link rel="prefetch" href="/assets/js/81.2f17c316.js"><link rel="prefetch" href="/assets/js/82.65754408.js"><link rel="prefetch" href="/assets/js/83.c588ab80.js"><link rel="prefetch" href="/assets/js/84.0aa66359.js"><link rel="prefetch" href="/assets/js/85.33d6441e.js"><link rel="prefetch" href="/assets/js/86.9d898e56.js"><link rel="prefetch" href="/assets/js/87.86ef3cc9.js"><link rel="prefetch" href="/assets/js/88.33106010.js"><link rel="prefetch" href="/assets/js/9.5aad96fe.js"><link rel="prefetch" href="/assets/js/90.d67b212b.js"><link rel="prefetch" href="/assets/js/91.47cd225f.js"><link rel="prefetch" href="/assets/js/92.781d57d8.js"><link rel="prefetch" href="/assets/js/93.18ad9b1f.js"><link rel="prefetch" href="/assets/js/94.a42bcb38.js"><link rel="prefetch" href="/assets/js/95.beb0c3bb.js"><link rel="prefetch" href="/assets/js/96.51751a73.js"><link rel="prefetch" href="/assets/js/97.dcf01d58.js"><link rel="prefetch" href="/assets/js/98.cb536506.js"><link rel="prefetch" href="/assets/js/99.d20576b5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.aadc6af7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>星哥私有教程</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>星哥说事vuepress描述，包含前端、后端、运维、等技术的介绍</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2024
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">星哥私有教程</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Linux基础教程
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/linux-basis/" class="nav-link"><i class="undefined"></i>
  基础知识
</a></li><li class="dropdown-item"><!----> <a href="/devops/" class="nav-link"><i class="undefined"></i>
  DevOps
</a></li><li class="dropdown-item"><!----> <a href="/web/" class="nav-link"><i class="undefined"></i>
  WEB服务
</a></li><li class="dropdown-item"><!----> <a href="/file-system/" class="nav-link"><i class="undefined"></i>
  文件系统
</a></li><li class="dropdown-item"><!----> <a href="/nginx/" class="nav-link"><i class="undefined"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/docker/" class="nav-link"><i class="undefined"></i>
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      开源软件
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaiyuan/Open-Source-Software/" class="nav-link"><i class="undefined"></i>
  开源软件
</a></li><li class="dropdown-item"><!----> <a href="/kaiyuan/Open-databases/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/kaiyuan/android/" class="nav-link"><i class="undefined"></i>
  安卓相关
</a></li><li class="dropdown-item"><!----> <a href="/kaiyuan/jumpserver/" class="nav-link"><i class="undefined"></i>
  JumpServer
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      云服务
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cloud/aliyun/" class="nav-link"><i class="undefined"></i>
  阿里云
</a></li><li class="dropdown-item"><!----> <a href="/cloud/tengxunyun/" class="nav-link"><i class="undefined"></i>
  腾讯云
</a></li><li class="dropdown-item"><!----> <a href="/cloud/aws/" class="nav-link"><i class="undefined"></i>
  亚马逊云
</a></li><li class="dropdown-item"><!----> <a href="/cloud/other/" class="nav-link"><i class="undefined"></i>
  其他
</a></li></ul></div></div><div class="nav-item"><a href="/safe/" class="nav-link"><i class="undefined"></i>
  服务器安全
</a></div><div class="nav-item"><a href="/software/" class="nav-link"><i class="undefined"></i>
  常用软件
</a></div><div class="nav-item"><a href="/internet/" class="nav-link"><i class="undefined"></i>
  互联网福利
</a></div><div class="nav-item"><a href="/debug/" class="nav-link"><i class="undefined"></i>
  调试Debug
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><!----> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>240</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Linux基础教程
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/linux-basis/" class="nav-link"><i class="undefined"></i>
  基础知识
</a></li><li class="dropdown-item"><!----> <a href="/devops/" class="nav-link"><i class="undefined"></i>
  DevOps
</a></li><li class="dropdown-item"><!----> <a href="/web/" class="nav-link"><i class="undefined"></i>
  WEB服务
</a></li><li class="dropdown-item"><!----> <a href="/file-system/" class="nav-link"><i class="undefined"></i>
  文件系统
</a></li><li class="dropdown-item"><!----> <a href="/nginx/" class="nav-link"><i class="undefined"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/docker/" class="nav-link"><i class="undefined"></i>
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      开源软件
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kaiyuan/Open-Source-Software/" class="nav-link"><i class="undefined"></i>
  开源软件
</a></li><li class="dropdown-item"><!----> <a href="/kaiyuan/Open-databases/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/kaiyuan/android/" class="nav-link"><i class="undefined"></i>
  安卓相关
</a></li><li class="dropdown-item"><!----> <a href="/kaiyuan/jumpserver/" class="nav-link"><i class="undefined"></i>
  JumpServer
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      云服务
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cloud/aliyun/" class="nav-link"><i class="undefined"></i>
  阿里云
</a></li><li class="dropdown-item"><!----> <a href="/cloud/tengxunyun/" class="nav-link"><i class="undefined"></i>
  腾讯云
</a></li><li class="dropdown-item"><!----> <a href="/cloud/aws/" class="nav-link"><i class="undefined"></i>
  亚马逊云
</a></li><li class="dropdown-item"><!----> <a href="/cloud/other/" class="nav-link"><i class="undefined"></i>
  其他
</a></li></ul></div></div><div class="nav-item"><a href="/safe/" class="nav-link"><i class="undefined"></i>
  服务器安全
</a></div><div class="nav-item"><a href="/software/" class="nav-link"><i class="undefined"></i>
  常用软件
</a></div><div class="nav-item"><a href="/internet/" class="nav-link"><i class="undefined"></i>
  互联网福利
</a></div><div class="nav-item"><a href="/debug/" class="nav-link"><i class="undefined"></i>
  调试Debug
</a></div> <!----></nav> <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">首页</a></li><li><a href="/linux-basis/" class="sidebar-link">基础知识</a></li><li><a href="/git/" class="sidebar-link">Git服务</a></li><li><a href="/safe/" class="sidebar-link">网络安全</a></li><li><a href="/kaiyuan/Open-Source-Software/" class="sidebar-link">开源软件</a></li><li><a href="/mysql/" class="sidebar-link">MySQL</a></li><li><a href="/nginx/" class="sidebar-link">Nginx</a></li><li><a href="/chatgpt/" class="sidebar-link">ChatGPT</a></li><li><a href="/shell/" class="sidebar-link">Shell</a></li><li><a href="/Ubuntu/" class="sidebar-link">Ubuntu</a></li><li><a href="/hardware/" aria-current="page" class="sidebar-link">硬件</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2></h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2024
        </a></span></div></div> <div data-v-130b300a><main class="page" style="padding-right:0;"><section><div class="page-title"><h1 class="title">群晖NAS配置之自有服务器frp实现内网穿透</h1> <div data-v-f875f3fc><!----> <!----> <i class="iconfont reco-eye" data-v-f875f3fc><span id="/hardware/%E7%BE%A4%E6%99%96NAS%E9%85%8D%E7%BD%AE%E4%B9%8B%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E5%99%A8frp%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-f875f3fc><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="群晖nas配置之自有服务器frp实现内网穿透"><a href="#群晖nas配置之自有服务器frp实现内网穿透" class="header-anchor">#</a> 群晖NAS配置之自有服务器frp实现内网穿透</h1> <h1 id="什么是frp"><a href="#什么是frp" class="header-anchor">#</a> 什么是frp</h1> <p>frp 是一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议，且支持 P2P 通信。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网。今天跟大家分享一下frp实现内网穿透</p> <p><img src="https://imgoss.xgss.net/picgo/frps-datu.png?aliyun" alt="frps-datu"></p> <h1 id="为什么使用-frp"><a href="#为什么使用-frp" class="header-anchor">#</a> 为什么使用 frp ？</h1> <p>通过在具有公网 IP 的节点上部署 frp 服务端，可以轻松地将内网服务穿透到公网，同时提供诸多专业的功能特性，这包括：</p> <ol><li>客户端服务端通信支持 TCP、QUIC、KCP 以及 Websocket 等多种协议</li> <li>采用 TCP 连接流式复用，在单个连接间承载更多请求，节省连接建立时间，降低请求延迟。</li> <li>代理组间的负载均衡。</li> <li>端口复用，多个服务通过同一个服务端端口暴露。</li> <li>支持 P2P 通信，流量不经过服务器中转，充分利用带宽资源。</li> <li>多个原生支持的客户端插件（静态文件查看，HTTPS/HTTP 协议转换，HTTP、SOCK5 代理等），便于独立使用 frp 客户端完成某些工作。</li> <li>高度扩展性的服务端插件系统，易于结合自身需求进行功能扩展。</li> <li>服务端和客户端 UI 页面。</li></ol> <p>开源地址： https://github.com/fatedier/frp</p> <h1 id="安装frp"><a href="#安装frp" class="header-anchor">#</a> 安装frp</h1> <h2 id="下载frp"><a href="#下载frp" class="header-anchor">#</a> 下载frp</h2> <ol><li><p>前往 <a href="https://github.com/fatedier/frp/releases" target="_blank" rel="noopener noreferrer">frp GitHub发布页面<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，找到最新版本。例如，假设最新版本是 <code>v0.52.3</code>。</p></li> <li><p>下载适用于CentOS 7架构的frp服务器二进制文件。例如，对于64位架构，你可以使用：</p></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>mkdir -p /data/
cd /data/
wget https://github.com/fatedier/frp/releases/download/v0.52.3/frp_0.52.3_linux_amd64.tar.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>解压下载的文件：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>tar zxvf frp_0.52.3_linux_amd64.tar.gz 
mv frp_0.52.3_linux_amd64 frp
# ll
total 29996
-rwxr-xr-x 1 1001 127 13905920 Oct 24 10:56 frpc
-rw-r--r-- 1 1001 127      142 Oct 24 10:57 frpc.toml
-rwxr-xr-x 1 1001 127 16789504 Oct 24 10:56 frps
-rw-r--r-- 1 1001 127       16 Oct 24 10:57 frps.toml
-rw-r--r-- 1 1001 127    11358 Oct 24 10:57 LICENSE
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="配置frp服务器"><a href="#配置frp服务器" class="header-anchor">#</a> 配置frp服务器</h2> <p>添加frp服务器的配置。以下是一个示例：</p> <p>有关如何编写配置文件，请参考： https://gofrp.org/zh-cn/docs/examples/</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>vi frps.toml
bindPort = 7000
vhostHTTPPort = 80
# auth.token = &quot;abcdef&quot; #安全验证不能有数字
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>使用以下命令启动服务器：./frps -c ./frps.toml</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>./frps -c ./frps.toml
2023/11/28 13:34:03 [I] [root.go:102] frps uses config file: ./frps.toml
2023/11/28 13:34:03 [I] [service.go:200] frps tcp listen on 0.0.0.0:7000
2023/11/28 13:34:03 [I] [root.go:111] frps started successfully
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="防火墙配置"><a href="#防火墙配置" class="header-anchor">#</a> 防火墙配置</h2> <p>如果启用了防火墙，请打开必要的端口（默认是7000）：</p> <p>HTTP 请求的监听端口为 80</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo firewall-cmd --zone=public --add-port=7000/tcp --permanent
sudo firewall-cmd --reload
或者
iptables -A INPUT -p tcp --dport 7000 -j ACCEPT
service iptables save
systemctl restart iptables.service

iptables -A INPUT -p tcp --dport 80 -j ACCEPT
iptables -I INPUT -p tcp --match multiport --dports 6000:7000 -j ACCEPT #批量开放6000-7000的端口。
service iptables save
systemctl restart iptables

service iptables save
systemctl restart iptables
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="设置systemd服务-可选但建议"><a href="#设置systemd服务-可选但建议" class="header-anchor">#</a> 设置systemd服务（可选但建议）</h2> <p>创建一个frp的systemd服务文件：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>vi /etc/systemd/system/frps.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>添加以下内容：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[Unit]
Description=frp服务器
After=network.target

[Service]
Type=simple
ExecStart=/data/frp/frps -c /data/frp/frps.toml
Restart=on-failure

[Install]
WantedBy=multi-user.target
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>启用并启动frp服务：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>systemctl enable frps
systemctl start frps
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>验证服务是否启动</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>systemctl restart frps
# netstat -tunpl|grep 7000
tcp6       0      0 :::7000                 :::*                    LISTEN      19949/frps   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="群晖nas客户端配置frp"><a href="#群晖nas客户端配置frp" class="header-anchor">#</a> 群晖nas客户端配置frp</h2> <h3 id="下载frp客户端"><a href="#下载frp客户端" class="header-anchor">#</a> 下载frp客户端</h3> <p>用ssh连接登录群晖，</p> <p>下载适用于群晖架构的frp客户端</p> <p>前往 frp GitHub发布页面，找到适用于群晖的版本。确保下载与群晖架构相匹配的frp客户端。</p> <p>下载frp客户端。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd /root
wget https://github.com/fatedier/frp/releases/download/v0.52.3/frp_0.52.3_linux_amd64.tar.gz
tar -zxvf frp_0.52.3_linux_amd64.tar.gz 
mv frp_0.52.3_linux_amd64 frp
cd /root/frp
ls
frpc  frpc.toml  frps  frps.toml  LICENSE
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="配置frp客户端"><a href="#配置frp客户端" class="header-anchor">#</a> 配置frp客户端</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>vi frpc.toml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>[common]
serverAddr = &quot;127.0.0.1&quot;
serverPort = 7000

[[proxies]]
name = &quot;stars-nas-ssh&quot;
type = &quot;tcp&quot;
localIP = &quot;127.0.0.1&quot;
localPort = 22
remotePort = 6000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>将 serverAddr 替换为frp服务器的IP地址</p> <p>确保 token 与frp服务器上配置的token匹配。</p> <p>根据需要配置其他端口转发规则，上述示例是将本地的SSH服务（本地端口22）映射到远程端口6000。</p> <h3 id="运行frp客户端"><a href="#运行frp客户端" class="header-anchor">#</a> 运行frp客户端</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># /root/frp/frpc -c /root/frp/frpc.toml
2023/11/28 13:58:38 [I] [root.go:139] start frpc service for config file [/root/frp/frpc.toml]
2023/11/28 13:58:38 [I] [service.go:299] [c22cfeca075e01e1] login to server success, get run id [c22cfeca075e01e1]

如果需要后台运行，可以使用类似 nohup ./frpc -c frpc.ini &amp; 这样的命令。

nohup /root/frp/frpc -c /root/frp/frpc.toml &gt;/dev/null 2&gt;&amp;1 &amp;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>测试：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ssh -o Port=6000 user@{frp服务器ip}
Synology strongly advises you not to run commands as the root user, who has
the highest privileges on the system. Doing so may cause major damages
to the system. Please note that if you choose to proceed, all consequences are
at your own risk.
user@star-nas:~$ 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>至此可以远程登录ssh</p> <h2 id="域名解析"><a href="#域名解析" class="header-anchor">#</a> 域名解析</h2> <p><img src="https://imgoss.xgss.net/picgo/image-20231128155546735.png?aliyun" alt="image-20231128155546735"></p> <h2 id="开放web和ssh"><a href="#开放web和ssh" class="header-anchor">#</a> 开放web和ssh</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>vi /root/frp/frpc.toml
serverAddr = &quot;xx.xx.xx.xx&quot;
serverPort = 7000

[[proxies]]
name = &quot;stars-nas-ssh&quot;
type = &quot;tcp&quot;
localIP = &quot;127.0.0.1&quot;
localPort = 60920
remotePort = 6000

[[proxies]]
name = &quot;web&quot;
type = &quot;http&quot;
localPort = 80
customDomains = [&quot;nasweb.frp.xgss.net&quot;]

[[proxies]]
name = &quot;web2&quot;
type = &quot;http&quot;
localPort = 5000
customDomains = [&quot;nas.frp.xgss.net&quot;]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="检查"><a href="#检查" class="header-anchor">#</a> 检查</h2> <p><img src="https://imgoss.xgss.net/picgo/image-20231128161122393.png?aliyun" alt="image-20231128161122393"></p> <p><img src="https://imgoss.xgss.net/picgo/image-20231128161137610.png?aliyun" alt="image-20231128161137610"></p> <p>内网穿透成功。</p> <p>如果你 vhostHTTPPort = 8080 则这里访问的域名需要加端口：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>nasweb.frp.xgss.net:8080
nas.frp.xgss.net:80
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="windows客户端"><a href="#windows客户端" class="header-anchor">#</a> windows客户端</h2> <h3 id="下载windows客户端"><a href="#下载windows客户端" class="header-anchor">#</a> 下载Windows客户端</h3> <p>前往 <a href="https://github.com/fatedier/frp/releases" target="_blank" rel="noopener noreferrer">frp GitHub发布页面<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，找到最新版本</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://github.com/fatedier/frp/releases/download/v0.52.3/frp_0.52.3_windows_amd64.zip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下载解压到桌面位置</p> <p><img src="https://imgoss.xgss.net/picgo/image-20231128162736001.png?aliyun" alt="image-20231128162736001"></p> <h3 id="编辑frpc-toml配置文件"><a href="#编辑frpc-toml配置文件" class="header-anchor">#</a> 编辑frpc.toml配置文件</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>serverAddr = &quot;x.x.x.x&quot;
serverPort = 7000

[[proxies]]
name = &quot;test-tcp&quot;
type = &quot;tcp&quot;
localIP = &quot;127.0.0.1&quot;
localPort = 3389
remotePort = 6002
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="编写start-bat-并运行"><a href="#编写start-bat-并运行" class="header-anchor">#</a> 编写start.bat，并运行</h3> <p>用记事本编辑，再用管理员身份运行。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@echo off
cd /d C:\Users\Administrator\Desktop\frp
frpc.exe -c frpc.toml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://imgoss.xgss.net/picgo/image-20231128162931360.png?aliyun" alt="image-20231128162931360"></p> <p><img src="https://imgoss.xgss.net/picgo/image-20231128163008961.png?aliyun" alt="image-20231128163008961"></p> <p>测试远程登录。</p> <p><img src="https://imgoss.xgss.net/picgo/image-20231128162620137.png?aliyun" alt="image-20231128162620137"></p> <h1 id="配置校验"><a href="#配置校验" class="header-anchor">#</a> 配置校验</h1> <p>通过执行 frpc verify -c ./frpc.toml 或 frps verify -c ./frps.toml 可以对配置文件中的参数进行预先校验。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>./frps verify -c ./frps.toml 
frpc: the configuration file ./frpc.toml syntax is ok

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果出现此结果，则说明新的配置文件没有错误，否则会输出具体的错误信息。</p> <h1 id="配置拆分"><a href="#配置拆分" class="header-anchor">#</a> 配置拆分</h1> <p>通过 <code>includes</code> 参数可以在主配置中包含其他配置文件，从而实现将代理配置拆分到多个文件中管理。</p> <div class="language-toml line-numbers-mode"><pre class="language-toml"><code><span class="token comment"># frpc.toml</span>
<span class="token key property">serverAddr</span> <span class="token punctuation">=</span> <span class="token string">&quot;x.x.x.x&quot;</span>
<span class="token key property">serverPort</span> <span class="token punctuation">=</span> <span class="token number">7000</span>
<span class="token key property">includes</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;./confd/*.toml&quot;</span><span class="token punctuation">]</span>
<span class="token comment"># ./confd/test.toml</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">proxies</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">&quot;ssh&quot;</span>
<span class="token key property">type</span> <span class="token punctuation">=</span> <span class="token string">&quot;tcp&quot;</span>
<span class="token key property">localIP</span> <span class="token punctuation">=</span> <span class="token string">&quot;127.0.0.1&quot;</span>
<span class="token key property">localPort</span> <span class="token punctuation">=</span> <span class="token number">22</span>
<span class="token key property">remotePort</span> <span class="token punctuation">=</span> <span class="token number">6000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>上述配置在 frpc.toml 中通过 includes 额外包含了 <code>./confd</code> 目录下所有的 toml 文件的代理配置内容，效果等价于将这两个文件合并成一个文件。</p> <p>需要注意的是 includes 指定的文件中只能包含代理配置，通用参数的配置只能放在主配置文件中。</p> <h1 id="安全认证token"><a href="#安全认证token" class="header-anchor">#</a> 安全认证Token</h1> <p>Token 身份认证是一种简单的身份认证方式，只需要在 frp 的客户端 frpc 和服务端 frps 配置文件中配置相同的 token 即可。</p> <h2 id="配置示例"><a href="#配置示例" class="header-anchor">#</a> 配置示例</h2> <div class="language-toml line-numbers-mode"><pre class="language-toml"><code><span class="token comment"># frps.toml</span>
<span class="token key property">bindPort</span> <span class="token punctuation">=</span> <span class="token number">7000</span>
<span class="token key property">auth.token</span> <span class="token punctuation">=</span> <span class="token string">&quot;abc&quot;</span>

<span class="token comment"># frpc.toml</span>
<span class="token key property">auth.token</span> <span class="token punctuation">=</span> <span class="token string">&quot;abc&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h1 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h1> <p>ngrok和frp的各有优缺点</p> <h2 id="ngrok-的优点"><a href="#ngrok-的优点" class="header-anchor">#</a> ngrok 的优点：</h2> <p>简单易用：ngrok拥有非常简洁的用户界面和易于使用的命令行工具，使得内网穿透变得非常容易。</p> <p>快速搭建：你不需要拥有自己的服务器，只需下载ngrok客户端即可开始使用。</p> <p>跨平台支持：ngrok支持多种操作系统，包括Windows、Linux和macOS等。</p> <p>具备安全特性：ngrok提供了基本的身份验证和TLS加密传输等安全特性。</p> <h2 id="ngrok-的缺点"><a href="#ngrok-的缺点" class="header-anchor">#</a> ngrok 的缺点：</h2> <p>限制版和付费版：ngrok提供了免费版，但其功能有限，如并发连接数和隧道数量的限制。付费版则提供更多高级功能。</p> <p>不开源：ngrok的源代码并未公开，因此在安全性方面用户难以进行审查。</p> <h2 id="frp优点"><a href="#frp优点" class="header-anchor">#</a> frp优点：</h2> <p>开源免费：frp是开源软件，可以免费使用，且有活跃的社区支持。
配置灵活：frp提供了灵活的配置选项，允许用户进行端口映射、TCP/UDP转发等。
自托管：你可以轻松地在自己的服务器上自行搭建和管理frp服务。
支持多种代理类型：包括TCP、HTTP和UDP等多种类型的代理。</p> <h2 id="frp缺点"><a href="#frp缺点" class="header-anchor">#</a> frp缺点：</h2> <p>配置相对复杂：对于新手来说，frp的配置可能相对复杂，需要一定的学习和理解。
需要自行搭建服务器：使用frp需要自己拥有服务器，并进行相应的部署和维护。</p></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:0;" data-v-cb1513f6></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.44414999.js" defer></script><script src="/assets/js/3.dac1e8fe.js" defer></script><script src="/assets/js/1.2b084c82.js" defer></script><script src="/assets/js/89.59431d10.js" defer></script>
  </body>
</html>
