(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{640:function(a,e,s){"use strict";s.r(e);var n=s(17),t=Object(n.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"docker的四种网络方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker的四种网络方式"}},[a._v("#")]),a._v(" docker的四种网络方式")]),a._v(" "),s("p",[a._v("当你安装好Docker之后， 它会自动的创建三个网络，你可以使用"),s("code",[a._v("docker network ls")]),a._v("命令列举这些3个网络：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# docker network ls\n\nNETWORK ID          NAME                DRIVER              SCOPE\n\nda8562d4b4d7        bridge              bridge              local\n\n03eca5036e34        host                host                local\n\n47209d68990e        none                null                local\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br")])]),s("h2",{attrs:{id:"_1-bridge方式-默认"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-bridge方式-默认"}},[a._v("#")]),a._v(" 1.bridge方式(默认)")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('创建容器：（由于是默认设置，这里没指定网络--net="bridge"。另外可以看到容器内创建了eth0)\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"_2-none方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-none方式"}},[a._v("#")]),a._v(" 2.none方式")]),a._v(" "),s("p",[a._v('指定方法： --net="none"\n可以看到，这样创建出来的容器完全没有网络：')]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('docker run -i -t --net="none" mysql:latest /bin/bash\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("那这种方式，有什么用途呢？\n实际上nova-docker用的就是这种方式，这种方式将网络创建的责任完全交给用户。\n可以实现更加灵活复杂的网络。\n另外这种容器可以可以通过link容器实现通信。")]),a._v(" "),s("h2",{attrs:{id:"_3-host方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-host方式"}},[a._v("#")]),a._v(" 3.host方式")]),a._v(" "),s("p",[a._v('指定方法：--net="host"\n这种创建出来的容器，可以看到host上所有的网络设备。\n容器中，对这些设备（比如DUBS）有全部的访问权限。因此docker提示我们，这种方式是不安全的。\n如果在隔离良好的环境中（比如租户的虚拟机中）使用这种方式，问题不大。')]),a._v(" "),s("h2",{attrs:{id:"_4-container复用方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-container复用方式"}},[a._v("#")]),a._v(" 4.container复用方式")]),a._v(" "),s("p",[a._v('指定方法： --net="container:name or id"\n如下例子可以看出来，两者的网络完全相同。')]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('docker run -i -t mysql:latest /bin/bash\n\ndocker run -i -t --net="container:02aac28b9234" mysql:latest /bin/bash\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h3",{attrs:{id:"举例-openstack-nova-docker中的网络实现方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#举例-openstack-nova-docker中的网络实现方式"}},[a._v("#")]),a._v(" 举例（openstack nova-docker中的网络实现方式）")]),a._v(" "),s("p",[a._v('openstack的nova-docker插件可以向管理虚拟机一样管理容器。\n容器网络的创建方式：首先创建--net="none"的容器，然后使用如下过程配置容器网络。（以OVS为例，也可以使用linux bridge）')]),a._v(" "),s("p",[a._v("参考：\nhttp://blog.csdn.net/halcyonbaby/article/details/42112141\nhttps://yq.aliyun.com/articles/30345?spm=a2c4e.11154837.613419.9.14394258Qv2sNy")])])}),[],!1,null,null,null);e.default=t.exports}}]);