(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{665:function(s,a,e){"use strict";e.r(a);var n=e(17),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"玩客云刷机armbian系统之后安装宝塔、可道云等软件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#玩客云刷机armbian系统之后安装宝塔、可道云等软件"}},[s._v("#")]),s._v(" 玩客云刷机Armbian系统之后安装宝塔、可道云等软件")]),s._v(" "),e("h2",{attrs:{id:"系统优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统优化"}},[s._v("#")]),s._v(" 系统优化")]),s._v(" "),e("p",[s._v("Armbian刷好后，我们对其进行一些优化操作。首次登录需要更改密码和创建用户。默认root用户,密码：1234")]),s._v(" "),e("h3",{attrs:{id:"_1-修改密码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-修改密码"}},[s._v("#")]),s._v(" 1.修改密码")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("passwd root\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_2-修改时区"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改时区"}},[s._v("#")]),s._v(" 2.修改时区")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("rm -rf /etc/localtime\nln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\necho Etc/UTC > /etc/timezone\ndate 查看时间\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"_3-换软件源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-换软件源"}},[s._v("#")]),s._v(" 3.换软件源")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 备份原文件\ncp /etc/apt/sources.list.d/armbian.list /etc/apt/sources.list.d/armbian.list.bak\n\n# 清华源(以下是一条命令复制完整)\nsudo tee /etc/apt/sources.list.d/armbian.list <<-'EOF'\ndeb https://mirrors.tuna.tsinghua.edu.cn/armbian/ stretch main stretch-utils stretch-desktop\nEOF\n\n\n# 备份原文件\ncp /etc/apt/sources.list /etc/apt/sources.list.bak\n\n# 中科大源(以下是一条命令复制完整)\nsudo tee /etc/apt/sources.list <<-'EOF'\ndeb http://mirrors.ustc.edu.cn/debian stretch main contrib non-free\ndeb http://mirrors.ustc.edu.cn/debian stretch-updates main contrib non-free\ndeb http://mirrors.ustc.edu.cn/debian stretch-backports main contrib non-free\ndeb http://mirrors.ustc.edu.cn/debian-security/ stretch/updates main contrib non-free\nEOF\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("h3",{attrs:{id:"_4-更新软件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-更新软件"}},[s._v("#")]),s._v(" 4.更新软件")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("apt-get update && apt-get upgrade\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20221020233903873.png?aliyun",alt:"image-20221020233903873"}})]),s._v(" "),e("h2",{attrs:{id:"固定ip"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#固定ip"}},[s._v("#")]),s._v(" 固定IP")]),s._v(" "),e("p",[s._v("由于安装完成之后玩客云的IP（192.168.124.7）是路由器自动获取的，这里在把玩客云的ip改成固定的，方便管理。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20221020112103701.png?aliyun",alt:"image-20221020112103701"}})]),s._v(" "),e("p",[s._v("参考： https://zhuanlan.zhihu.com/p/556064376")]),s._v(" "),e("p",[s._v("1.输入 ifconfig 命令并回车，主要看看系统这次开机之后生成的mac地址是什么：")]),s._v(" "),e("p",[s._v("记下这个mac地址： 00:22:82:4f:7c:e9")]),s._v(" "),e("p",[s._v("2.输入这个命令并回车，就是打开并修改网络配置文件interfaces：")]),s._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("nano /etc/network/interfaces\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("修改如下")]),s._v(" "),e("p",[s._v("修改成我这个样子，静态IP、网关、默认dns需要你自己根据情况修改，然后mac地址要改成前面查到的。")]),s._v(" "),e("p",[s._v("有一行必须需要加上：pre-up /sbin/ifconfig eth0 mtu 3838")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("allow-hotplug eth0\nno-auto-down eth0\niface eth0 inet static\nhwaddress ether 00:22:82:4f:7c:e9\npre-up ifconfig eth0 hw ether 00:22:82:4f:7c:e9\naddress 192.168.124.7\nnetmask 255.255.255.0\ngateway 192.168.124.1\ndns-nameservers 192.168.124.1 114.114.114.114\npre-up /sbin/ifconfig eth0 mtu 3838\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20221020135619450.png?aliyun",alt:"image-20221020135619450"}})]),s._v(" "),e("p",[s._v("四、还有个默认的配置文件interfaces.default也需要修改成上面那个一样\n输入命令并回车：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" /etc/network/interfaces.default\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("把内容修改成和上面那个文件一样：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("allow-hotplug eth0 \nno-auto-down eth0 \niface eth0 inet static\nhwaddress ether 00:22:82:4f:7c:e9\npre-up ifconfig eth0 hw ether 00:22:82:4f:7c:e9\naddress 192.168.124.7\nnetmask 255.255.255.0\ngateway 192.168.124.1\ndns-nameservers 192.168.124.1 114.114.114.114\npre-up /sbin/ifconfig eth0 mtu 3838\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("修改完后按Ctrl+O保存，再按Ctrl+X退出")]),s._v(" "),e("p",[s._v("再重启玩客云")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("reboot\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("待玩客云开机后，输入命令并回车查看mac地址和ip地址是否变化，没变化就成功了")]),s._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ifconfig\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"查看系统版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看系统版本"}},[s._v("#")]),s._v(" 查看系统版本")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# cat /etc/debian_version \n9.9\n# cat /etc/issue\nDebian GNU/Linux 9 \\n \\l\n\n# cat /etc/os-release \n\n安装工具软件也行，# apt-get install -y lsb-release 此处略过\n# lsb_release -a\n\n# uname -a\n\n# arch\n\n# dpkg\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("h2",{attrs:{id:"挂载硬盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#挂载硬盘"}},[s._v("#")]),s._v(" 挂载硬盘")]),s._v(" "),e("p",[s._v("为什么要挂载硬盘，因为玩客云自带存储只有8G,系统已经用掉30%，所剩空间不多。安装可道云就是为了下载和存文件，不通过外置硬盘扩大存储空间的话还能叫云盘吗？这里我准备了一张64GB的TF卡，让玩客云开机自动挂载硬盘。\nSSH连上玩客云，输入fdisk -l命令查看")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 显示如下内容，其中/dev/mmcblk0是我64G的TF卡\n\nroot@OneCloud:/etc/apt# fdisk -l\nDisk /dev/mmcblk0: 58.6 GiB, 62914560000 bytes, 122880000 sectors\nDevice              Boot Start     End Sectors  Size Id Type\n/dev/mmcblk1p1      16065 14964479 14948415  7.1G 83 Linux\n/dev/mmcblk1boot1p1      16065 7727264 7711200  3.7G  b W95 FAT32\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("我需要将TF卡存储空间给可道云用，先将它格式化成ext4格式")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mkfs.ext4 /dev/mmcblk0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("格式化执行完成后，然后得到它的UUID准备做自动挂载工作，输入命令")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("blkid /dev/mmcblk0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("得到的内容如下：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('/dev/mmcblk0: UUID="9495d4d6-c0a1-457a-8345-af6242502a82" TYPE="ext4"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("其中的UUID就是我们需要用的，将硬盘挂载到/www/wwwroot下，用VI命令编辑/etc/fstab文件，在最后行追加下面内容,保存，下次重启就自动挂载了硬盘。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vi /etc/fstab\n填写：\nUUID=9495d4d6-c0a1-457a-8345-af6242502a82   /www/wwwroot   ext4    defaults    0 0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"挂载ntfs格式硬盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#挂载ntfs格式硬盘"}},[s._v("#")]),s._v(" 挂载NTFS格式硬盘")]),s._v(" "),e("p",[s._v("我这里有一块闲置的ntfs格式的移动硬盘，不想格式化数据。直接挂载到 /www目录下，挂载方法跟上面类似，最主要是不格式化硬盘直接挂载，后续可能会出现什么问题。")]),s._v(" "),e("p",[s._v("查看系统所检测到的外置磁盘名称(这里用sda1):")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# lsblk\nNAME         MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\nsda            8:0    0 298.1G  0 disk \n`-sda1         8:1    0 298.1G  0 part \nsdb            8:16   1    15G  0 disk \nmmcblk0      179:0    0   7.3G  0 disk \n|-mmcblk0p1  179:1    0   122M  0 part /boot\n`-mmcblk0p2  179:2    0   6.5G  0 part /\nmmcblk0boot0 179:16   0     4M  1 disk \nmmcblk0boot1 179:32   0     4M  1 disk \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("其中sda1为我的移动硬盘")]),s._v(" "),e("p",[s._v("在根目录新建一个目录用于挂载硬盘:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mkdir /www\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("将新增的外置硬盘挂载映射到新建的目录中：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# mount /dev/sda1 /www\nThe disk contains an unclean file system (0, 0).\nThe file system wasn't safely closed on Windows. Fixing.\n\n# df -h|grep www\n/dev/sda1       299G   79G  220G  27% /www\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("挂载成功。")]),s._v(" "),e("p",[s._v("设置开机自动启动挂载：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vi  /etc/fstab\n提现写\n/dev/sda1 /www  ntfs defaults 0 0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("修改填好好后，按: 键，输入 wq! 强制保存退出，然后输入命令强制刷新即可")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# mount  -a\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h1",{attrs:{id:"docker相关"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker相关"}},[s._v("#")]),s._v(" docker相关")]),s._v(" "),e("h2",{attrs:{id:"使用docker安装脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用docker安装脚本"}},[s._v("#")]),s._v(" 使用docker安装脚本")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("curl -fsSL https://get.docker.com -o get-docker.sh\nsh get-docker.sh --mirror Aliyun\n或者\napt-get install docker.io\napt install docker.io\n\n或者\nwget -qO- https://get.docker.com/ | sh\n启动：\nservice docker start\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("h2",{attrs:{id:"安装可视面板"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装可视面板"}},[s._v("#")]),s._v(" 安装可视面板")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run --restart always --name fast -p 8081:8081 -d -v /var/run/docker.sock:/var/run/docker.sock wangbinxingkong/fast\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("安装完成后在浏览器访问 http://服务器IP地址或域名:8081")]),s._v(" "),e("p",[s._v("首次登录需要注册，注册成功后即可正常使用。")]),s._v(" "),e("h3",{attrs:{id:"装宝塔"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#装宝塔"}},[s._v("#")]),s._v(" 装宝塔")]),s._v(" "),e("p",[s._v("拉取镜像,ssh里面执行")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker pull centos:centos7\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("创建容器")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run -tid --name baota -p 88:80 -p 8888:8888 --restart always centos:centos7\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("需要开放的端口自行拉回 -p 80:80 --name=baota其中baota是容器名称，可以更改成你想要的，容器名称注意不要和其他容器一样，会冲突")]),s._v(" "),e("p",[s._v("进入容器")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker exec -it baota /bin/bash\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("装宝塔")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum install -y wget && wget -O install.sh http://download.bt.cn/install/install.sh&& sh install.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"青龙面板"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#青龙面板"}},[s._v("#")]),s._v(" 青龙面板")]),s._v(" "),e("p",[s._v("ssh里面执行")]),s._v(" "),e("p",[s._v("1.拉取镜像")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker pull whyour/qinglong:latest\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("2.创建容器")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run -tid --name qinglong -p 5700:5700 --restart always whyour/qinglong:latest\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("然后就可以通过http://ip:5700访问面板了")]),s._v(" "),e("p",[s._v("默认账号：admin 密码：admin")]),s._v(" "),e("h3",{attrs:{id:"装-openwrt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#装-openwrt"}},[s._v("#")]),s._v(" 装 openwrt")]),s._v(" "),e("p",[s._v("ssh里面执行")]),s._v(" "),e("p",[s._v("1.拉取镜像")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker pull xuanaimai/onecloud:21-05-29\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("2.创建容器")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run -tid --name openwrt -p 80:80 --restart always xuanaimai/onecloud:21-05-29\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("启动成功后使用IP访问即可 密码是 password")]),s._v(" "),e("p",[s._v("需要开放的端口自行拉回 -p 80:80 --name=openwrt其中openwrt是容器名称，可以更改成你想要的，容器名称注意不要和其他容器一样，会冲突")]),s._v(" "),e("h3",{attrs:{id:"docker装openwrt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker装openwrt"}},[s._v("#")]),s._v(" docker装openwrt")]),s._v(" "),e("p",[s._v("下面是我找的别人docker装openwrt的教程\n更新软件（非必要）")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("apt-get update && apt-get upgrade\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("安装 Docker")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("apt install docker.io\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("打开网卡混杂模式")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ip link set eth0 promisc on\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("创建网络")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker network create -d macvlan --subnet=192.168.0.0/24 --gateway=192.168.0.1 -o parent=eth0 macnet\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("[↑自己根据 玩客云 所在网段修改，如：玩客云IP:192.168.2.175，则192.168.1.0/24 改成 192.168.2.0/24，192.168.1.1改成主路由地址]\n拉取 OpenWRT 镜像")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker pull xuanaimai/onecloud:21-05-29\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("创建容器")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run -itd --name=OneCloud --restart=always --network=macnet --privileged=true xuanaimai/onecloud:21-05-29 /sbin/init\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("–name=OneCloud 其中OneCloud是容器名称，可以更改成你想要的，容器名称注意不要和其他容器一样，会冲突根据主路由 DHCP 分配里找到一个主机名叫 OpenWRT 的，复制它的IPv4 地址粘贴到浏览器就能进入 OpenWRT 了密码是 password")]),s._v(" "),e("h1",{attrs:{id:"宝塔面板"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#宝塔面板"}},[s._v("#")]),s._v(" 宝塔面板")]),s._v(" "),e("p",[s._v("为了省点内存这里我安装了5.9版本的宝塔面板，当然也可以安装7.0以上的版本。面板安装完大概要1个小时，进入面板安装LNMP服务更有长达4小时的等待时间。中途可能面板还无法访问，安装完就可以打开了，建议这个时候睡一觉醒来就好了。哈哈")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 宝塔面板5.9版本\nwget -O install.sh http://download.bt.cn/install/install-ubuntu.sh && bash install.sh\n\n\n# 宝塔面板7.0版本\nwget -O install.sh http://yangwenqing.com/files/Source/install_bt_ubuntu_7.0.sh && bash install.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("或者安装最新版的")]),s._v(" "),e("p",[s._v("官网：https://bt.cn/new/download.html")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh && bash install.sh ed8484bec\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20221020212618447.png?aliyun",alt:"image-20221020212618447"}})]),s._v(" "),e("p",[s._v("安装：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20221020212911224.png?aliyun",alt:"image-20221020212911224"}})]),s._v(" "),e("p",[s._v("启动失败！")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20221020221124897.png?aliyun",alt:"image-20221020221124897"}})]),s._v(" "),e("p",[s._v("玩客云IP:8888 即可访问宝塔面板\n安装宝塔面板中SSH可能会卡掉线，看不到宝塔面板的账号和密码，可以对面板进行重置密码")]),s._v(" "),e("p",[s._v("一步："),e("a",{attrs:{href:"https://www.bt.cn/btcode.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("宝塔Linux面板命令大全"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 修改面板密码，如要改成123456\ncd /www/server/panel && python tools.py panel 123456\n\n# 执行重置密码后会显示用户名，复制登录即可\na4zpobgr\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/fd78cf95b2132ad7bec71403cf29693e.png?aliyun",alt:"img"}})]),s._v(" "),e("p",[s._v("进入面板后将 Nginx PHP MySQL 三大服务安装上去,Nginx我安装了2次才安装成功，安装完就可以进行下一步的可道云安装")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/b4c9382d1c047089da4f1a1b204f3fe1.png?aliyun",alt:"img"}})]),s._v(" "),e("h2",{attrs:{id:"安装可道云"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装可道云"}},[s._v("#")]),s._v(" 安装可道云")]),s._v(" "),e("p",[s._v("宝塔面板一键部署源码内置有可道云，可以从这里进去安装。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/12c71aaecd97e91631b1ed82a89f8360.png?aliyun",alt:"img"}})]),s._v(" "),e("p",[s._v("效果如下，嗯！还是挺流畅的。")]),s._v(" "),e("h2",{attrs:{id:"安装aria2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装aria2"}},[s._v("#")]),s._v(" 安装Aria2")]),s._v(" "),e("p",[s._v("Aria2是一款自由、跨平台命令行界面的下载管理器，该软件根据GPLv2许可证进行分发。支持的下载协议有：HTTP、HTTPS、FTP、Bittorrent和Metalink。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("#逗比的Aria2脚本\nwget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/aria2.sh && chmod +x aria2.sh && bash aria2.sh\n\n#备用脚本\nwget -N --no-check-certificate https://yangwenqing.com/files/Source/aria2.sh && chmod +x aria2.sh && bash aria2.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("安装完成后，如果我们想修改密码、下载文件位置、端口的话，可以使用命令bash aria2.sh，再选择修改配置即可，这里建议使用该脚本配置自动更新BT-Tracker服务器，对下载BT有加成。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("root@OneCloud:~# bash aria2.sh\n\n Aria2 一键安装管理脚本 [v1.1.9]\n  -- Toyo | doub.io/shell-jc4 --\n\n    0. 升级脚本\n       ————————————\n    1. 安装 Aria2\n    2. 更新 Aria2\n    3. 卸载 Aria2\n       ————————————\n    4. 启动 Aria2\n    5. 停止 Aria2\n    6. 重启 Aria2\n       ————————————\n    7. 修改 配置文件\n    8. 查看 配置信息\n    9. 查看 日志信息\n   10. 配置 自动更新 BT-Tracker服务器\n       ————————————\n\n 当前状态: 已安装 并 已启动\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br")])]),e("h3",{attrs:{id:"配置aria2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置aria2"}},[s._v("#")]),s._v(" 配置Aria2")]),s._v(" "),e("p",[s._v("去配置玩客云Aria2 将IP,端口跟密码填入")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/f66ab69d0aa494dcd259e04997089ab1.png?aliyun",alt:"img"}})]),s._v(" "),e("p",[s._v("测试下载\n下载OneDrive上面的资源")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/aaebf39652010ef100fbad6d6ccda00b.png?aliyun",alt:"img"}})]),s._v(" "),e("p",[e("img",{attrs:{src:"https://imgoss.xgss.net/picgo/cee2a4055a01d2f452bda80f12ed955a.png?aliyun",alt:"img"}})])])}),[],!1,null,null,null);a.default=t.exports}}]);