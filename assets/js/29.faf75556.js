(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{614:function(s,a,t){"use strict";t.r(a);var e=t(17),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"chatgpt接入企业微信-打造智能微信聊天机器人"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chatgpt接入企业微信-打造智能微信聊天机器人"}},[s._v("#")]),s._v(" ChatGPT接入企业微信，打造智能微信聊天机器人")]),s._v(" "),t("h1",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),t("p",[s._v("但是众所周知，接入个人微信是有风险的，官方是不允许我们通过非法的客户端进行登录的。今天给大家分享一下通过将 ChatGPT 接入企业微信，来实现通过微信勾搭 ChatGPT 的方式。")]),s._v(" "),t("p",[s._v("整个过程主要分三步")]),s._v(" "),t("ol",[t("li",[s._v("需要一个OpenAPI Key")]),s._v(" "),t("li",[s._v("个人注册一个企业微信")]),s._v(" "),t("li",[s._v("在服务器启动开源 chatgpt-wechat 服务 https://github.com/whyiyhw/chatgpt-wechat")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/pexels-photo-15863000.webp.jpg?aliyun",alt:"pexels-photo-15863000.webp"}})]),s._v(" "),t("h1",{attrs:{id:"openapi-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#openapi-key"}},[s._v("#")]),s._v(" OpenAPI Key")]),s._v(" "),t("p",[s._v("OpenAi Keys 申请：https://beta.openai.com/account/api-keys")]),s._v(" "),t("h1",{attrs:{id:"注册企业微信"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注册企业微信"}},[s._v("#")]),s._v(" 注册企业微信")]),s._v(" "),t("p",[s._v("用手机下载一个企业微信，然后创建一个个人企业，注意这里一定要是企业，而不能是其他组织，因为组织是无法登录网页管理后台的。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230626200058972.png?aliyun",alt:"image-20230626200058972"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230626200112081.png?aliyun",alt:"image-20230626200112081"}})]),s._v(" "),t("p",[s._v("创建完成过后，我们通过"),t("a",{attrs:{href:"https://work.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("企业微信官网"),t("OutboundLink")],1),s._v("，网址：https://work.weixin.qq.com/ 进行扫码登录到企业管理后台中")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531104326110.png?aliyun",alt:"image-20230531104326110"}})]),s._v(" "),t("h2",{attrs:{id:"创建应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建应用"}},[s._v("#")]),s._v(" 创建应用")]),s._v(" "),t("p",[s._v("登录完成过后我们在 应用管理 ---\x3e 自建 ---\x3e 创建应用，创建一个应用。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/500fd9f9d72a60596dd213061f1d3e97023bbaa5.jpeg@f_auto?aliyun",alt:"img"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531104514878.png?aliyun",alt:"image-20230531104514878"}})]),s._v(" "),t("h2",{attrs:{id:"获取企业-id"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取企业-id"}},[s._v("#")]),s._v(" 获取企业 ID")]),s._v(" "),t("p",[s._v("在我的企业 --\x3e 企业信息 最下面复制企业ID")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531104814063.png?aliyun",alt:"image-20230531104814063"}})]),s._v(" "),t("h2",{attrs:{id:"获取应用id和密钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取应用id和密钥"}},[s._v("#")]),s._v(" 获取应用ID和密钥")]),s._v(" "),t("p",[s._v("点击刚刚创建的应用，获取 AgentId 和 Secret，Secret 需要发送到手机上才能查看；")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531104931454.png?aliyun",alt:"image-20230531104931454"}})]),s._v(" "),t("h2",{attrs:{id:"接受信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#接受信息"}},[s._v("#")]),s._v(" 接受信息")]),s._v(" "),t("p",[s._v("在应用的 接收消息 这里获取 token 和 EncodingAESKey，这两个可以点击后面的随机获取自动生成；")]),s._v(" "),t("p",[s._v("这里注意获取完成后保持窗口不关闭，因为这里暂时还无法保存，如果关闭了窗口这个 token 和 EncodingAESKey 就没有用了。")]),s._v(" "),t("p",[s._v("先保持窗口打开，等我们第三步把服务部署起来了过后，再回到这里填写上面的 URL 验证，然后就可以保存了。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531105600632.png?aliyun",alt:"image-20230531105600632"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531105711541.png?aliyun",alt:"image-20230531105711541"}})]),s._v(" "),t("h1",{attrs:{id:"服务器环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器环境"}},[s._v("#")]),s._v(" 服务器环境")]),s._v(" "),t("h2",{attrs:{id:"安装-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker"}},[s._v("#")]),s._v(" 安装 docker")]),s._v(" "),t("p",[s._v("购买好的服务器我们首先需要安装 docker 和 docker-compose，依次执行下面的命令即可。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# yum install docker\n或者： \n#CentOS 7、Debian、Ubuntu\n# curl -sSL https://get.docker.com/ | sh\n# systemctl start docker\n# systemctl enable docker.service\n\n\n\n\nsudo chmod +x /usr/local/bin/docker-compose\ndocker-compose --version\n\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h2",{attrs:{id:"安装docker-compose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装docker-compose"}},[s._v("#")]),s._v(" 安装docker-compose")]),s._v(" "),t("h3",{attrs:{id:"centos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos"}},[s._v("#")]),s._v(" centos：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\n安装docker-compose\n# yum -y install docker-compose\n查看安装的版本\n# docker-compose -v\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"ubuntu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu"}},[s._v("#")]),s._v(" Ubuntu")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('$ sudo su root\n# apt install docker-compose\n# docker-compose --version\ndocker-compose version 1.29.2, build unknown\n\n或者：\n# curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\n# chmod +x /usr/local/bin/docker-compose\n# ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose\n# docker-compose --version\n\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("安装好了 docker 和 docker-compose 以后，再加上有了上面的一些配置，我们就可以准备启动服务了，按照如下命令开始操作。")]),s._v(" "),t("h1",{attrs:{id:"配置chatgpt-wechat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置chatgpt-wechat"}},[s._v("#")]),s._v(" 配置chatgpt-wechat")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# 克隆源码\ngit clone https://github.com/whyiyhw/chatgpt-wechat.git\n# 进入目录\ncd ./chatgpt-wechat/\n从备份生成 配置文件\ncp ./chat/service/chat/api/etc/chat-api.yaml.bak ./chat/service/chat/api/etc/chat-api.yaml\n# 编辑配置文件\nvim ./chat/service/chat/api/etc/chat-api.yaml\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531111558602.png?aliyun",alt:"image-20230531111558602"}})]),s._v(" "),t("p",[s._v("安装上面的配置填写指定的密钥")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cd ./chatgpt-wechat/chat\n# docker-compose build\n# docker-compose up -d\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531114230505.png?aliyun",alt:"image-20230531114230505"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531114243388.png?aliyun",alt:"image-20230531114243388"}})]),s._v(" "),t("p",[s._v("访问： http://IP+端口  注意：安全组于鏊开发 8887这个端口")]),s._v(" "),t("p",[s._v("访问浏览器报400的错，这个是正常的。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531132923827.png?aliyun",alt:"image-20230531132923827"}})]),s._v(" "),t("p",[s._v("接下来我们还需要回到企业微信，在上面验证 URL 地方，填上自己的服务器 ip 端口为 8887，进行验证。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531114757728.png?aliyun",alt:"image-20230531114757728"}})]),s._v(" "),t("h2",{attrs:{id:"企业可信-ip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#企业可信-ip"}},[s._v("#")]),s._v(" 企业可信 IP")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531114926974.png?aliyun",alt:"image-20230531114926974"}})]),s._v(" "),t("p",[s._v("到这里我们基本完成了，还差最后一步那就是邀请我们个人微信加入这个企业，通过在我的企业》微信插件 下面有个邀请关注二维码，用个人微信扫码加入即可。")]),s._v(" "),t("p",[s._v("调试：")]),s._v(" "),t("h2",{attrs:{id:"邀请关注"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#邀请关注"}},[s._v("#")]),s._v(" 邀请关注")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531131923731.png?aliyun",alt:"image-20230531131923731"}})]),s._v(" "),t("p",[s._v("在微信中找到应用")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531135624439.png?aliyun",alt:"image-20230531135624439"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20230531135637185.png?aliyun",alt:"image-20230531135637185"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);