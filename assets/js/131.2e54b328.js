(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{712:function(s,a,t){"use strict";t.r(a);var n=t(17),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"如何给公司节约成本-搭建免费开源监控系统uptime-kuma"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何给公司节约成本-搭建免费开源监控系统uptime-kuma"}},[s._v("#")]),s._v(" 如何给公司节约成本，搭建免费开源监控系统uptime-kuma")]),s._v(" "),t("p",[s._v("由于业务需要，我司的产品越来越多，api接口监控相对比较薄弱，对此要搭建HTTP(s)的监控系统，之前一直使用第三方的监控系统，比如阿里云的云监控。")]),s._v(" "),t("h2",{attrs:{id:"基本流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本流程"}},[s._v("#")]),s._v(" 基本流程")]),s._v(" "),t("p",[s._v("1.了解需求。")]),s._v(" "),t("p",[s._v("2.通过各种途径了解有没有相关免费解决方案")]),s._v(" "),t("p",[s._v("3.本地搭建实施，评估上线。")]),s._v(" "),t("p",[s._v("4.上线部署 使用。")]),s._v(" "),t("p",[s._v("本文记录希望找到开源监控系统走的弯路，apimonitor和apitestplatform都有这样或者那样的问题。最终找到对应的开源监控uptime-kuma，并且有以外惊喜，如果有其他的需求也可以按照此流程进行。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/mianfei-uptime-kuma.jpg?aliyun",alt:"mianfei-uptime-kuma"}})]),s._v(" "),t("h2",{attrs:{id:"业务需求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#业务需求"}},[s._v("#")]),s._v(" 业务需求")]),s._v(" "),t("p",[s._v("1.开源、免费")]),s._v(" "),t("p",[s._v("2.定时监控生产环境的接口链接，如果出现访问非200的、超时，则报警。")]),s._v(" "),t("p",[s._v("3.告警方式： 邮件、短信、钉钉群通知、电话等")]),s._v(" "),t("p",[s._v("4.支持本地Linux服务器部署")]),s._v(" "),t("p",[s._v("5.类似阿里云的“云监控”--站点监控，如图。第三方参考解决方案https://www.jiankongbao.com/")]),s._v(" "),t("p",[t("img",{attrs:{src:"images/image-20220302114059570.png",alt:"image-20220302114059570"}})]),s._v(" "),t("h1",{attrs:{id:"测试系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试系统"}},[s._v("#")]),s._v(" 测试系统")]),s._v(" "),t("p",[s._v("服务器系统： Centos7")]),s._v(" "),t("p",[s._v("IP地址： 192.168.1.5")]),s._v(" "),t("p",[s._v("服务器已安装： nginx和docker")]),s._v(" "),t("h1",{attrs:{id:"开源产品"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开源产品"}},[s._v("#")]),s._v(" 开源产品")]),s._v(" "),t("p",[s._v("在网上搜索、问同事和相关从业经验的人，是否有相关的监控产品。")]),s._v(" "),t("h1",{attrs:{id:"一、系统监控产品apimonitor-项目已关闭"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、系统监控产品apimonitor-项目已关闭"}},[s._v("#")]),s._v(" 一、系统监控产品apimonitor（项目已关闭）")]),s._v(" "),t("p",[s._v("apimonitor有api探测、api监控、http请求模拟、系统接口监控等功能，可以模拟http页面操作过程，并根据请求耗时和响应结果监控系统接口可用性和正确性。")]),s._v(" "),t("p",[s._v("开源地址： https://gitee.com/ecar_team/apimonitor")]),s._v(" "),t("p",[s._v("查看功能部分符合，但是需要二次开发，可以在此开源项目上开发")]),s._v(" "),t("p",[t("strong",[s._v("1.新增告警功能，通过邮件、短信、钉钉群通知等。")])]),s._v(" "),t("p",[t("strong",[s._v("2.新增访问时长记录。")])]),s._v(" "),t("h1",{attrs:{id:"二、apitestplatform-亲测有bug"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、apitestplatform-亲测有bug"}},[s._v("#")]),s._v(" 二、apitestplatform（亲测有bug）")]),s._v(" "),t("p",[s._v("一个web界面的接口自动化测试平台")]),s._v(" "),t("p",[s._v("git地址：https://github.com/342164796/apitestplatform")]),s._v(" "),t("h2",{attrs:{id:"安装步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装步骤"}},[s._v("#")]),s._v(" 安装步骤")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cd /data\ngit clone https://github.com/342164796/apitestplatform\ncd apitestplatform/\n首次部署需要在settings.py文件里修改mysql的地址和账户名密码为自己的数据库地址\nvi apitestplatform/settings.py\n'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'HOST': \"*.*.*.*\",\n        'NAME': \"apitestplatform\",\n        'USER': \"user\",\n        'PASSWORD': \"password\",\n        'PORT': \"3306\",\n        # 'CHARSET': 'utf8',\n        # 'COLLATION': 'utf8_general_ci',\n    }\n\n2.初始化数据库，执行如下命令：\npython3.6 manage.py makemigrations\npython3.6 manage.py migrate\n\npython3.6 manage.py runserver\n\n    \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("h2",{attrs:{id:"安装的踩坑记录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装的踩坑记录"}},[s._v("#")]),s._v(" 安装的踩坑记录")]),s._v(" "),t("h3",{attrs:{id:"_1-syntaxerror-invalid-syntax"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-syntaxerror-invalid-syntax"}},[s._v("#")]),s._v(" "),t("strong",[s._v("1.SyntaxError: invalid syntax")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('# python manage.py runserver \n  File "manage.py", line 14\n    ) from exc\n         ^\nSyntaxError: invalid syntax\npython 版本太低，系统自带为2.7\n升级安装 python3.6\n# python -V\nPython 2.7.5\n\n# python3.6 -V\nPython 3.6.8\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h3",{attrs:{id:"_2-couldn-t-import-djang"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-couldn-t-import-djang"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2.Couldn't import Djang")])]),s._v(" "),t("p",[s._v("没有安装django")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# python3.6 manage.py runserver \nCouldn't import Django. Are you sure it's installed and available on your PYTHONPATH environment variable? Did you forget to activate a virtual environment?\n\n安装 Django\n\n虚拟环境里用python3安django和uwsgi\n（如果用于生产的话，则需要指定安装和你项目相同的版本）\n\npip3.6 install django\npip3.6 install uwsgi\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"_3-没有安装pymysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-没有安装pymysql"}},[s._v("#")]),s._v(" "),t("strong",[s._v("3.没有安装pymysql")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("再次报错：\n# python3.6 manage.py runserver \nModuleNotFoundError: No module named 'pymysql'\n解决：\n# pip3.6 install pymysql\n再次报错：\n# python3.6 manage.py runserver \nModuleNotFoundError: No module named 'django_crontab'\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"_4-没有安装django-crontab"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-没有安装django-crontab"}},[s._v("#")]),s._v(" 4.没有安装django-crontab")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("报错\ndjango.db.utils.OperationalError: (2003, \"Can't connect to MySQL server on '*.*.*.*' ([Errno -2] Name or service not known)\")\n解决：\n# pip3.6 install django-crontab\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("启动成功")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# python3.6 manage.py runserver \nYou have 29 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, base, contenttypes, sessions.\nRun 'python manage.py migrate' to apply them.\nMarch 02, 2022 - 10:31:01\nDjango version 3.2.12, using settings 'apitestplatform.settings'\nStarting development server at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"启动成功"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动成功"}},[s._v("#")]),s._v(" 启动成功")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# python3.6 manage.py runserver \n\nDjango version 3.2.12, using settings 'apitestplatform.settings'\nStarting development server at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"nginx反向代理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx反向代理"}},[s._v("#")]),s._v(" nginx反向代理")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\nserver {\n        listen       80;\n        server_name  apitest.test.me;\n        #root /data/wwwroot/web/apitest.test.me/;\n        access_log /data/wwwroot/log/apitest.test.me-access.log main_aliyun;\n        error_log off;\n\n        location / {\n                proxy_pass      http://127.0.0.1:8000;\n                proxy_redirect off;\n                proxy_set_header Host $host;\n                proxy_set_header X-Real-IP $remote_addr;\n                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\n        }\n\n}\n\n绑定hosts访问\n192.168.1.5 apitest.test.me\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220302191408547.png?aliyun",alt:"image-20220302191408547"}})]),s._v(" "),t("p",[t("strong",[s._v("添加项目报错：")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220302191630117.png?aliyun",alt:"image-20220302191630117"}})]),s._v(" "),t("p",[s._v("由于不太清楚报错的原因。放弃此开源项目。")]),s._v(" "),t("h1",{attrs:{id:"三、开源监控uptime-kuma"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、开源监控uptime-kuma"}},[s._v("#")]),s._v(" 三、开源监控uptime-kuma")]),s._v(" "),t("p",[s._v("继续百度搜索查找，在知乎的页面中找到一个@无为无谓 的回答，页面https://www.zhihu.com/question/23755976")]),s._v(" "),t("p",[s._v("他推荐了一个开源产品，uptime-kuma。")]),s._v(" "),t("p",[s._v("uptime-kuma地址：https://github.com/louislam/uptime-kuma")]),s._v(" "),t("p",[s._v("反向代理教程： https://github.com/louislam/uptime-kuma/wiki/Reverse-Proxy")]),s._v(" "),t("p",[s._v("演示网站:")]),s._v(" "),t("p",[s._v("https://demo.uptime.kuma.pet:27000/ 创建管理员账号，有10分钟的体验时间。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303095626971.png?aliyun",alt:"image-20220303095626971"}})]),s._v(" "),t("p",[s._v("查看演示基本能满足需要，在本地搭建测试，功能都符合我的要求，居然还有惊喜，首先界面很精美，再次除了有基本的HTTP(S)的监控的，还有TCP端口监控、PING监控、HTTP（s）关键字监控、DNS监控、Push监控、Steam Game Server监控，功能相当多，重点是都是免费的，只要有服务器，或者局域网的虚拟机（可访问外网）就可以监控你的各种服务。")]),s._v(" "),t("h2",{attrs:{id:"docker部署uptime-kuma"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker部署uptime-kuma"}},[s._v("#")]),s._v(" docker部署uptime-kuma")]),s._v(" "),t("p",[s._v("本次使用docker安装如果，需要非docker参考开源文档。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# mkdir -p /data/docker/uptime-kuma/data\n# docker run -d --restart=always -p 3001:3001 -v /data/docker/uptime-kuma/data:/app/data --name uptime-kuma louislam/uptime-kuma:1\n\n\n# netstat -tunpl|grep 3001\ntcp6       0      0 :::3001                 :::*                    LISTEN      29542/docker-proxy- \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("访问：")]),s._v(" "),t("p",[s._v("http://192.168.1.5:3001 访问，创建管理员账号。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303095955001.png?aliyun",alt:"image-20220303095955001"}})]),s._v(" "),t("h2",{attrs:{id:"nginx代理访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx代理访问"}},[s._v("#")]),s._v(" nginx代理访问")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('server  {\n    listen 80;\n    server_name    uptime.test.me;\n    location / {\n        proxy_pass         http://localhost:3001;\n        proxy_http_version 1.1;\n        proxy_set_header   Upgrade $http_upgrade;\n        proxy_set_header   Connection "upgrade";\n        proxy_set_header   Host $host;\n    }\n}\n绑定hosts访问\n192.168.1.5 uptime.test.me\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h2",{attrs:{id:"基本设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本设置"}},[s._v("#")]),s._v(" 基本设置")]),s._v(" "),t("p",[s._v("设置里面功能还比较齐全，有外观设置，消息通知重点是消息通知有，邮件、钉钉、短信、飞书等等的第三方通知，相当齐全。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303100108350.png?aliyun",alt:"image-20220303100108350"}})]),s._v(" "),t("h2",{attrs:{id:"外观设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#外观设置"}},[s._v("#")]),s._v(" 外观设置")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303100124220.png?aliyun",alt:"image-20220303100124220"}})]),s._v(" "),t("h2",{attrs:{id:"通知设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通知设置"}},[s._v("#")]),s._v(" 通知设置")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303100147192.png?aliyun",alt:"image-20220303100147192"}})]),s._v(" "),t("h2",{attrs:{id:"创建监控项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建监控项"}},[s._v("#")]),s._v(" 创建监控项")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303101158956.png?aliyun",alt:"image-20220303101158956"}})]),s._v(" "),t("h3",{attrs:{id:"https监控图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#https监控图"}},[s._v("#")]),s._v(" HTTPS监控图")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303101238140.png?aliyun",alt:"image-20220303101238140"}})]),s._v(" "),t("h2",{attrs:{id:"端口tcp检测"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#端口tcp检测"}},[s._v("#")]),s._v(" 端口TCP检测")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303103938780.png?aliyun",alt:"image-20220303103938780"}})]),s._v(" "),t("p",[s._v("关闭nginx，80端口：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl stop nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("报错：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303104845202.png?aliyun",alt:"image-20220303104845202"}})]),s._v(" "),t("h2",{attrs:{id:"重置密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重置密码"}},[s._v("#")]),s._v(" 重置密码")]),s._v(" "),t("p",[s._v("Docker环境")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker exec -it <container name> npm run reset-password\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("非Docker环境")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# cd 项目目录\n# npm run reset-password\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("https://github.com/louislam/uptime-kuma/wiki/Reset-Password-via-CLI")]),s._v(" "),t("h2",{attrs:{id:"配置消息通知"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置消息通知"}},[s._v("#")]),s._v(" 配置消息通知")]),s._v(" "),t("p",[s._v("Uptime Kuma提供多种的消息推送，详情请参考：https://github.com/louislam/uptime-kuma/issues/284")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303143854247.png?aliyun",alt:"image-20220303143854247"}})]),s._v(" "),t("p",[s._v("我这里需要Bark手机APP、配置邮件、钉钉群通知的演示，还有阿里云短信也是比较方便快捷的提醒。")]),s._v(" "),t("h3",{attrs:{id:"配置bark"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置bark"}},[s._v("#")]),s._v(" 配置Bark")]),s._v(" "),t("p",[s._v("Brak是苹果系统的一款推送软件。ios手机安装app，APP内可以获取推送地址： https://api.day.app/{密钥}/这里改成你自己的推送内容")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("https://api.day.app/{密钥}/这里改成你自己的推送内容\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303135120761.png?aliyun",alt:"image-20220303135120761"}})]),s._v(" "),t("p",[s._v("后面不能有中文，有测试测试会报错")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303135219785.png?aliyun",alt:"image-20220303135219785"}})]),s._v(" "),t("p",[s._v("点击“测试一下”收到消息")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303135341440.png?aliyun",alt:"image-20220303135341440"}})]),s._v(" "),t("p",[s._v("模拟测试")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303140013934.png?aliyun",alt:"image-20220303140013934"}})]),s._v(" "),t("p",[s._v("恢复测试：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303140125375.png?aliyun",alt:"image-20220303140125375"}})]),s._v(" "),t("h3",{attrs:{id:"钉钉群通知"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#钉钉群通知"}},[s._v("#")]),s._v(" 钉钉群通知")]),s._v(" "),t("p",[s._v("了解更多：https://developers.dingtalk.com/document/robots/custom-robot-access")]),s._v(" "),t("p",[s._v("钉钉群获取WebHookUrl：假设为https://oapi.dingtalk.com/robot/send?access_token=abc123456")]),s._v(" "),t("p",[s._v("WebHookUrl:填写完整的地址、SecretKey则填写abc123456的值，我开始填写了错了，测试很久没有通过。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303153135776.png?aliyun",alt:"image-20220303153135776"}})]),s._v(" "),t("h3",{attrs:{id:"配置邮箱"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置邮箱"}},[s._v("#")]),s._v(" 配置邮箱")]),s._v(" "),t("p",[s._v("如图配置，主机名、端口号、密码不是163的登录密码，需要在163邮箱后台开通开启IMAP/SMTP服务。获取授权密码。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303152548306.png?aliyun",alt:"image-20220303152548306"}})]),s._v(" "),t("p",[s._v("测试发送邮件：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303152834582.png?aliyun",alt:"image-20220303152834582"}})]),s._v(" "),t("h2",{attrs:{id:"禁用身份验证"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#禁用身份验证"}},[s._v("#")]),s._v(" 禁用身份验证")]),s._v(" "),t("p",[s._v("这是可选的，如果不禁用游客访问需要用户名和密码，但是你关掉后，就可以自由访问了。（后台后上角的设置，然后拉到最下面即可看到！）")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303143355330.png?aliyun",alt:"image-20220303143355330"}})]),s._v(" "),t("h2",{attrs:{id:"设置status-page"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置status-page"}},[s._v("#")]),s._v(" 设置Status Page")]),s._v(" "),t("p",[s._v("这个功能还是很重要的，可以把新建的监控服务放置到这个监控页面，这样就可以随时随地的看到每个系统的状态了。")]),s._v(" "),t("p",[s._v("点击右上角的Status Page，开始编辑，具体看图：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303143512692.png?aliyun",alt:"image-20220303143512692"}})]),s._v(" "),t("p",[s._v("首页默认就会是这样的状态页。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220303143559272.png?aliyun",alt:"image-20220303143559272"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);