(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{721:function(s,t,a){"use strict";a.r(t);var e=a(17),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"搭建开源免费的全平台私有密码工具bitwarden"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建开源免费的全平台私有密码工具bitwarden"}},[s._v("#")]),s._v(" 搭建开源免费的全平台私有密码工具BitWarden")]),s._v(" "),a("h2",{attrs:{id:"bitwarden是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bitwarden是什么"}},[s._v("#")]),s._v(" Bitwarden是什么")]),s._v(" "),a("p",[s._v("Bitwarden 是一个安全且免费的跨平台密码管理器，一款开源密码管理软件，和Keepass、LastPass相似，支持全平台客户端。")]),s._v(" "),a("p",[s._v("开源也就给了我们更多的可定制性，既可以使用官方的服务（跳过服务端的部署环节，直接到客户端的使用），也可以使用自建的服务，本篇文章就介绍在CenOS7系统下搭建搭建私有的bitwarden_rs。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/bitwarden.webp.jpg?aliyun",alt:"bitwarden.webp"}})]),s._v(" "),a("h2",{attrs:{id:"全平台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全平台"}},[s._v("#")]),s._v(" 全平台")]),s._v(" "),a("p",[s._v("BitWarden 支持 Windows系统、macOS系统 和 Linux系统 和 Android，iOS 两大手机端平台，并且支持各大Chrome，Firefox，Opera，Edge的浏览器插件，用户也可直接访问网站进行登录，还有命令行管理模式，可以说是覆盖平台及其全面的软件了。")]),s._v(" "),a("h2",{attrs:{id:"收费吗"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#收费吗"}},[s._v("#")]),s._v(" 收费吗")]),s._v(" "),a("p",[s._v("所有服务器端和客户端软件都是免费的")]),s._v(" "),a("h2",{attrs:{id:"bitwarden和bitwarden-rs的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bitwarden和bitwarden-rs的区别"}},[s._v("#")]),s._v(" Bitwarden和bitwarden_rs的区别")]),s._v(" "),a("p",[s._v("bitwarden_rs项目延伸自Bitwarden，bitwarden_rs使用Rust实现了Bitwarden相似的功能，两者均开源。不过Bitwarden需要较多的依赖（如MSSQL），占用内存也比较大，如果是个人或家庭使用，推荐更加轻量的bitwarden_rs，并且bitwarden_rs还可以免费使用Bitwarden的一些高级功能，如附件上传、TOTP等功能。")]),s._v(" "),a("h2",{attrs:{id:"前期准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前期准备"}},[s._v("#")]),s._v(" 前期准备")]),s._v(" "),a("ol",[a("li",[s._v("拥有自己的服务器（系统Linux，本次教程cenots7，已安装docker）")]),s._v(" "),a("li",[s._v("使用自己的域名(本篇文章 b.xgss.net)")]),s._v(" "),a("li",[s._v("申请免费SSL证书")])]),s._v(" "),a("h1",{attrs:{id:"部署服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署服务端"}},[s._v("#")]),s._v(" 部署服务端")]),s._v(" "),a("h2",{attrs:{id:"安装docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[s._v("#")]),s._v(" 安装docker")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#安装Docker\nyum -y install docker\n#启动docker\nsystemctl start docker\n#开机自启\nsystemctl enable docker\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"运行docker容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行docker容器"}},[s._v("#")]),s._v(" 运行docker容器")]),s._v(" "),a("p",[s._v("我们只要在服务器的 docker 里部署一个 bitwarden 的容器，就可以通过 IOS、安卓、Windows、浏览器，互相同步我们的所有密码。安全吗？数据都保存在自己的服务器上。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker run -itd \\\n-p 86:80 \\\n-p 3012:3012 \\\n--restart always \\\n--name bitwarden  \\\n-v /data/docker/bitwarden/:/data/ \\\nbitwardenrs/server:latest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"配置nginx-ssl证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx-ssl证书"}},[s._v("#")]),s._v(" 配置Nginx（ssl证书）")]),s._v(" "),a("p",[s._v("申请阿里云或者腾讯云免费一年SSL证书，通过acme.sh开源工具申请泛解析SSL证书："),a("a",{attrs:{href:"https://g.xgss.net/safe/%E9%80%9A%E8%BF%87acme.sh%E5%BC%80%E6%BA%90%E5%B7%A5%E5%85%B7%E7%94%B3%E8%AF%B7%E6%B3%9B%E8%A7%A3%E6%9E%90SSL%E8%AF%81%E4%B9%A6.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("请移步"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("域名解析到服务器")]),s._v(" "),a("p",[s._v("nginx的配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("server\n    {\n    listen 443 ssl http2;\n\tserver_name     b.xgss.net;\n\taccess_log /data/wwwroot/log/b.xgss.net-access.log;\n\terror_log /dev/null;\n\t\n\t# certs sent to the client in SERVER HELLO are concatenated in ssl_certificate\n    ssl_certificate /data/wwwroot/web/ssl/b.xgss.net.key.pem;\n    ssl_certificate_key /data/wwwroot/web/ssl/b.xgss.net.key;\n    ssl_session_timeout 1d;\n    ssl_session_cache shared:SSL:50m;\n    ssl_session_tickets off;\n \n    # intermediate configuration. tweak to your needs.\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_ciphers 'ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA:ECDHE-ECDSA-DES-CBC3-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA:!DSS';\n    ssl_prefer_server_ciphers on;\n \n    # HSTS (ngx_http_headers_module is required) (15768000 seconds = 6 months)\n    add_header Strict-Transport-Security max-age=15768000;\n \n    # OCSP Stapling ---\n    # fetch OCSP records from URL in ssl_certificate and cache them\n    ssl_stapling on;\n    ssl_stapling_verify on;\n \n    \n   client_max_body_size 128M;\n    location / {\n        proxy_set_header  Host  'b.xgss.net';\n        proxy_pass http://127.0.0.1:86;\n        proxy_redirect off;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n}\nlocation /notifications/hub {\n    proxy_pass http://127.0.0.1:3012;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection \"upgrade\";\n  }\n \n  location /notifications/hub/negotiate {\n    proxy_pass http://127.0.0.1:86;\n  }\n \n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br")])]),a("p",[s._v("浏览器访问，如果显示如下页面则服务端部署成功。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220713100354512.png?aliyun",alt:"image-20220713100354512"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220713101201894.png?aliyun",alt:"image-20220713101201894"}})]),s._v(" "),a("h1",{attrs:{id:"客户端使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#客户端使用"}},[s._v("#")]),s._v(" 客户端使用")]),s._v(" "),a("h2",{attrs:{id:"浏览器插件使用bitwarden"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器插件使用bitwarden"}},[s._v("#")]),s._v(" 浏览器插件使用Bitwarden")]),s._v(" "),a("p",[s._v("去各大浏览器应用商店搜索‘Bitwarden’安装，点击左上角的设置，添加自己的密码系统的域名")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220713100910706.png?aliyun",alt:"image-20220713100910706"}})]),s._v(" "),a("p",[s._v("添加项目zerossl.com的账号密码信息。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220713102910053.png?aliyun",alt:"image-20220713102910053"}})]),s._v(" "),a("p",[s._v("在后台可以看到刚才添加的zerossl.com的账号密码信息")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/image-20220713103024701.png?aliyun",alt:"image-20220713103024701"}})]),s._v(" "),a("p",[s._v("其他系统使用大同小异，但是移动端可能需要设置自动填充。")]),s._v(" "),a("h2",{attrs:{id:"ios-端使用-bitwarden"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ios-端使用-bitwarden"}},[s._v("#")]),s._v(" IOS 端使用 bitwarden")]),s._v(" "),a("p",[s._v("移动端参考：@朗风晴月的文章 "),a("a",{attrs:{href:"https://app.myzaker.com/news/article.php?pk=625edc8e8e9f097c496f7bf2",target:"_blank",rel:"noopener noreferrer"}},[s._v("超好用的密码管理工具bitwarden"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("appStore 商店就可以下载，和浏览器端一样，再 bitwarden点击管理输入服务器域名，然后登录")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c08_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("这里注意下设置密码库超时为永不，上面的浏览器和之后的安卓 app 同理")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c09_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("接下是 IOS 端的自动填充设置，在设置里点击密码")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c0a_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("自动填充密码")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c0b_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("打开自动填充密码，并选择 bitwarden 即可")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c0c_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("还是以手机上的张大妈 app 为例，选择账号密码登录，点一下账号框，点击小钥匙左边的账号密码即可自动填充")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c0d_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"安卓端使用-bitwarden"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安卓端使用-bitwarden"}},[s._v("#")]),s._v(" 安卓端使用 bitwarden")]),s._v(" "),a("p",[s._v("以小米手机为例，需要去谷歌商店，或者去 gayhub 下载 bitwarden 的 app，安卓端的自动填充设置，在设置里点击更多设置")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c0e_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("点击语言与输入法")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c0f_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("自动填充服务")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c10_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("选bitwarden")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c11_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("这是安卓很坑的一个地方，如果不设置，有可能有时候自动填充会失灵，点击应用设置")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c12_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("点击应用管理")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c13_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("找到 bitwarden")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c14_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("开启自启动")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c15_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("同样以安卓的张大妈 app 为例，大家可以看到下图中，我其实是有多个账号的，这样也方便切换，其他 app 同理，这也是一个方便的地方")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c16_1024.jpg?aliyun",alt:"img"}})]),s._v(" "),a("p",[s._v("至此，本教程到此结束了")])])}),[],!1,null,null,null);t.default=n.exports}}]);